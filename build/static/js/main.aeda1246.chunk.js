(this.webpackJsonpmi=this.webpackJsonpmi||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(7),i=(n(4),n(0)),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"numberToFixString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toFixed(t)}},{key:"number",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toFixed(t)}},{key:"numberToMarketValue",value:function(e){return void 0===e||isNaN(e)?"":Math.round(e/1e4).toString()}},{key:"numberToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toPrecision(t)}},{key:"numberToPrecision",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return void 0===e?void 0:Number.parseFloat(e.toPrecision(t))}},{key:"percentToFixString",value:function(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(2)+"%"}},{key:"percent0",value:function(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(0)+"%"}},{key:"percent1",value:function(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(1)+"%"}},{key:"warningTypeString",value:function(e){switch(e){case"gt":return"\u5927\u4e8e";case"lt":return"\u5c0f\u4e8e";default:return e}}},{key:"predictCutRatio",value:function(e){return 2*e-e*e}},{key:"evaluatePricePrice",value:function(e,t,n,r){var a=1+e,i=a*a,c=i*a;return(t/a+n/i+r/c+r/e/c)/2}},{key:"calculateV",value:function(e,t,n){if(void 0!==n&&!isNaN(n)){var r=0;return void 0!==e&&(e>.25&&(e=.25),r+=100*e),void 0!==t&&(r+=100*t),r/n}}},{key:"calculateVN",value:function(e,t,n,r){if(void 0!==r&&!isNaN(r)&&void 0!==t&&!isNaN(t)){var a=0;return void 0!==e&&t>0&&(e>.25&&(e=.24+Math.pow(100*(e-.24),.6667)/100),a+=(e=(e=1+e)*e*e-1)*t*100),void 0===n||isNaN(n)||(a+=100*n),a/r}}},{key:"calculateZZ3",value:function(e){var t=[void 0,void 0,void 0,void 0];if(void 0===e)return t;if(e.length<5)return t;for(var n=function(e,t){if(!(t<=0||e<=0))return e/t-1},r=0;r<4;++r)t[r]=n(e[r+1],e[r]);return t}},{key:"MonthnoFromDay",value:function(e){return 12*(Math.floor(e/1e4)-1995)+(Math.floor(e%1e4/100)-1)}},{key:"SeasonnoFromDay",value:function(e){var t=Math.floor(e/1e4),n=Math.floor(e%1e4/100)-1;return 4*(t-1995)+Math.floor(n/3)}},{key:"SeasonnoFromYearMonth",value:function(e,t){return 4*(e-1995)+Math.floor((t-1)/3)}},{key:"SeasonnoToYearMonth",value:function(e){return 100*(Math.floor(e/4)+1995)+3*(Math.floor(e%4)+1)}},{key:"SeasonnoToBeginEnd",value:function(e){var t=1e4*(1995+Math.floor(e/4)),n=e%4;return 0===n?{begin:t+101,end:t+331}:1===n?{begin:t+401,end:t+630}:2===n?{begin:t+701,end:t+930}:{begin:t+1001,end:t+1231}}},{key:"CalculatePredictAvg",value:function(e){var t={avg20:void 0,avg50:void 0,avg100:void 0},n=e.length,r=function(t){var r=t;if(r>n&&(r=n),r>=10){for(var a=0,i=3;i<r;++i)a+=e[i].predictpe;return a/(r-3)}};return t.avg20=r(20),t.avg50=r(50),t.avg100=r(100),t}},{key:"CalculateValueAvg",value:function(e){var t={avg20:void 0,avg50:void 0,avg100:void 0,avg:void 0},n=e.length,r=function(t){var r=t;if((0===t||r>n)&&(r=n),r>=10){for(var a=0,i=3;i<r;++i)a+=e[i].v;return a/(r-3)}};return t.avg20=r(20),t.avg50=r(50),t.avg100=r(100),t.avg=r(0),t}}]),e}();c.caption=function(e){return Object(i.jsx)("span",{className:"text-muted small",children:e})}},146:function(e,t){},147:function(e,t){},148:function(e,t){},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var r={uqBasedata:"bruce/mi",appIcon:"https://tv.jkchemical.com/imgs/Bear-icon.png",miApiHost:"https://mi.jjol.cn/",miApiHostDebug:"http://localhost:6010/",isDevelopment:!1},a="\u81ea\u9009\u80a1",i="\u9ed1\u540d\u5355"},164:function(e,t){},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,a,i=n(1),c=n.n(i),s=n(2),o=n(18),u=n(6),l=n(7),p=n(14),d=(n(40),n(5)),f=n(16),h=n(66),b=function(){function e(t){Object(u.a)(this,e),this.miNet=void 0,this.accounts=null,this.account=null,Object(d.makeObservable)(this,{accounts:d.observable,account:d.observable}),this.miNet=t}return Object(l.a)(e,[{key:"load",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_allaccounts();case 2:t=e.sent,Array.isArray(t)&&(this.accounts=t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCurrentAccount",value:function(e){return this.account=this.accounts.find((function(t){return t.name===e})),this.account}}]),e}(),m=(r=function(){function e(t){var n=this;Object(u.a)(this,e),this.miNet=void 0,this.stockGroups=void 0,this.accounts=void 0,Object(o.a)(this,"config",a,this),this.setStockSortType=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.config.stockFind.sortType!==t){e.next=2;break}return e.abrupt("return");case 2:return n.config.stockFind.sortType=t,e.next=5,n.saveConfig();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setStockSelectType=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.config.stockFind.selectType!==t){e.next=2;break}return e.abrupt("return");case 2:return n.config.stockFind.selectType=t,e.next=5,n.saveConfig();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setUserSortType=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.config.userStock.sortType!==t){e.next=2;break}return e.abrupt("return");case 2:return n.config.userStock.sortType=t,e.next=5,n.saveConfig();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.selectTag=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.name,n.stockGroups.groupFromName(r)&&(n.config.groupName=r,n.saveConfig());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.selectAccount=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.name,n.accounts.setCurrentAccount(r)&&(n.config.accountName=r,n.saveConfig());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setRegressionConfig=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.config.regression=t,e.next=3,n.saveConfig();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(d.makeObservable)(this,{config:d.observable}),this.miNet=t,this.stockGroups=new h.a(t),this.accounts=new b(t)}return Object(l.a)(e,[{key:"getHomeStockGroup",value:function(){var e=this.config.groupName;return this.stockGroups.groupFromName(e)}},{key:"findStockConfg",get:function(){return this.config.stockFind}},{key:"load",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConfig();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveConfig",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(this.config),e.next=3,this.miNet.t_usersettings$save(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadConfig",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,n,r,a,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.miNet.t_usersettings$query(),this.stockGroups.load(),this.accounts.load()]);case 2:return t=e.sent,e.next=5,this.stockGroups.init();case 5:if(void 0!==(n=t[0])&&void 0!==(r=n)&&r.length>0&&(a=r[0].value,i=JSON.parse(a),this.stockGroups&&(s=i.tagName,(o=this.stockGroups.groupFromName(s))||(o=this.stockGroups.groupFromName(f.c),i.tagName=o?f.c:this.stockGroups.group0),i.groupName=i.tagName),this.config=i),void 0!==this.config.stockFind){e.next=11;break}this.config.stockFind={sortType:"pe"},e.next=20;break;case 11:e.t0=this.config.stockFind.selectType,e.next="all"===e.t0?14:"peroe"===e.t0?15:"pe"===e.t0?16:"dp"===e.t0?17:18;break;case 14:case 15:case 16:case 17:return e.abrupt("break",20);case 18:return this.config.stockFind.selectType="all",e.abrupt("break",20);case 20:void 0===this.config.userStock&&(this.config.userStock={sortType:"tagpe"}),void 0===this.config.regression?this.config.regression={bmin:0,bmax:.5,r2:.7,lmin:.01,lmax:.5,lr2:.7,mcount:2,lr4:3,r210:.6,irate:.04}:(void 0===this.config.regression.r210&&(this.config.regression.r210=.6),void 0===this.config.regression.irate&&(this.config.regression.irate=.04));case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addTagStock",value:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stockGroups.defaultGroup.addStock(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeTagStock",value:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stockGroups.defaultGroup.removeStock(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadExportItems",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,p,d,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.config.regression,r=n.bmin,a=n.bmax,i=n.r2,s=n.lmin,o=n.lmax,u=n.lr2,l=n.mcount,p=n.lr4,d=n.r210,f={name:t,pageStart:0,pageSize:3e3,user:this.miNet.userId,blackID:this.stockGroups.blackGroup.id,bMin:r,bMax:a,r2:i,lMin:s,lMax:o,lr2:u,mcount:l,lr4:p,r210:d},e.next=4,Promise.all([this.miNet.process(f,[]),this.miNet.q_getlasttradeday()]);case 4:return h=e.sent,e.abrupt("return",h);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isMySelect",value:function(e){return this.stockGroups.isMySelect(e)}},{key:"isMyBlack",value:function(e){return this.stockGroups.isMyBlack(e)}}]),e}(),a=Object(p.a)(r.prototype,"config",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{groupName:f.c,stockFind:{sortType:"pe"},userStock:{sortType:"tagpe"},regression:{bmin:0,bmax:.5,r2:.7,lmin:.01,lmax:.5,lr2:.7,mcount:2,lr4:3,r210:.6,irate:.04}}}}),r)},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r,a,i,c,s,o,u,l,p,d,f,h,b=n(20),m=n(71),v=n(1),j=n.n(v),g=n(23),x=n(2),y=n(18),O=n(6),k=n(7),w=n(13),N=n(9),S=n(8),A=n(14),T=(n(40),n(5)),C=n(3),I=n(42),F=n(10),P=n(65),D=(n(4),n(17)),M=n(16),K=n(0),E=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSelect=function(t,n,r){e.controller.onClickSelectTag(t,n)},e.onEditTag=function(t,n){n.preventDefault(),e.controller.onEditTag(t)},e.renderTag=function(t){var n=Object(K.jsx)("div",{className:"px-3 py-2 cursor-pointer",children:t.name}),r=t.name===M.b||t.name===M.c?"":Object(K.jsx)("div",{className:"px-3 py-2 cursor-pointer",onClick:function(n){return e.onEditTag(t,n)},children:"\u7f16\u8f91"});return Object(K.jsx)(C.LMR,{className:"mx-3 my-2",left:n,right:r})},e.page=Object(D.d)((function(){var t=e.controller.selectedTags,n=e.controller.cApp.store.stockGroups.groups,r=n.length>=10?"":Object(K.jsxs)("div",{className:"px-3 py-2 cursor-pointer",onClick:e.controller.onNewTag,children:[Object(K.jsx)(C.FA,{name:"plus",className:"text-primary"}),"\xa0 \u65b0\u5efa\u5206\u7ec4"]});return Object(K.jsxs)(C.Page,{header:"\u9009\u62e9\u5206\u7ec4",headerClassName:"bg-primary",children:[r,Object(K.jsx)(C.List,{items:n,item:{onSelect:e.onSelect,render:e.renderTag},selectedItems:t})]})})),e}return Object(k.a)(n,[{key:"open",value:function(){var e=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(C.VPage),L=[{name:"name",type:"string",required:!0,maxLength:10},{name:"id",type:"id"},{name:"submit",type:"submit"}],V={items:{name:{widget:"text",label:null,placeholder:"\u5206\u7ec4\u540d\u79f0"},id:{widget:"id",visible:!1},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},G=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onFormButtonClick=function(){var t=Object(x.a)(j.a.mark((function t(n,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveNewTag(r.data);case 2:if(!t.sent){t.next=4;break}e.controller.closePage();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.page=function(){return Object(K.jsx)(C.Page,{header:"\u65b0\u5efa\u5206\u7ec4",headerClassName:"bg-primary",children:Object(K.jsx)("div",{className:"px-3 py-3",children:Object(K.jsx)(C.Form,{schema:L,uiSchema:V,formData:void 0,onButtonClick:e.onFormButtonClick})})})},e}return Object(k.a)(n,[{key:"open",value:function(){var e=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(C.VPage),q=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onFormButtonClick=function(){var t=Object(x.a)(j.a.mark((function t(n,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveTag(r.data);case 2:if(!t.sent){t.next=4;break}e.controller.closePage();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.page=function(t){var n={id:t.id,name:t.name};return Object(K.jsx)(C.Page,{header:"\u7f16\u8f91\u5206\u7ec4",headerClassName:"bg-primary",children:Object(K.jsx)("div",{className:"px-3 py-3",children:Object(K.jsx)(C.Form,{schema:L,uiSchema:V,formData:n,onButtonClick:e.onFormButtonClick})})})},e}return Object(k.a)(n,[{key:"open",value:function(){var e=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(C.VPage),_=n(26),R=n(37),B=n(43),z=(r=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(e){var r;return Object(O.a)(this,n),r=t.call(this,e),Object(y.a)(r,"baseItem",a,Object(w.a)(r)),Object(y.a)(r,"loaded",i,Object(w.a)(r)),Object(y.a)(r,"price",c,Object(w.a)(r)),Object(y.a)(r,"stockTags",s,Object(w.a)(r)),r.selectedTags=void 0,r.exrightForEarning=[],r.exrightInfo=[],Object(y.a)(r,"seasonData",o,Object(w.a)(r)),Object(y.a)(r,"predictSeasonData",u,Object(w.a)(r)),Object(y.a)(r,"predictSeasonDataFull",l,Object(w.a)(r)),Object(y.a)(r,"predictData",p,Object(w.a)(r)),Object(y.a)(r,"ypredict",d,Object(w.a)(r)),Object(y.a)(r,"historyData",f,Object(w.a)(r)),r.historyDataOrg=[],r._capitalearning=T.observable.array([],{deep:!0}),r._bonus=T.observable.array([],{deep:!0}),r._divideInfo=T.observable.array([],{deep:!0}),Object(y.a)(r,"isMySelect",h,Object(w.a)(r)),r.initLoad=function(){r.load()},r.load=Object(x.a)(j.a.mark((function e(){var t,n,a,i,c,s,o,u,l,p,d,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.baseItem){e.next=2;break}return e.abrupt("return");case 2:return t=r.baseItem,n=t.id,a=t.day,e.next=5,Promise.all([r.cApp.miNet.q_stockallinfo(n,a),r.cApp.miNet.t_tagstock$query(void 0,n)]);case 5:if(i=e.sent,r.stockTags=i[1],c=i[0],!Array.isArray(c[0])){e.next=26;break}return s=c[1],Array.isArray(s)&&(r.price=s[0]),r._capitalearning.length>0&&r._capitalearning.clear(),o=c[2],Array.isArray(o)&&(u=r._capitalearning).push.apply(u,Object(g.a)(o)),r._bonus.clear(),l=c[3],Array.isArray(l)&&(p=r._bonus).push.apply(p,Object(g.a)(l)),r._divideInfo.clear(),d=c[4],Array.isArray(d)&&(f=r._divideInfo).push.apply(f,Object(g.a)(d)),r.exrightForEarning=c[5],e.next=23,r.loadTTMEarning(c[6]);case 23:r.exrightInfo=c[7],r.historyDataOrg=c[8],r.loadHistoryData(!1);case 26:r.isMySelect=r.cApp.store.isMySelect(n),r.loaded=!0;case 28:case"end":return e.stop()}}),e)}))),r.openMetaView=function(){},r.onSelectTag=Object(x.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.selectedTags=r.cApp.store.stockGroups.getSelected(r.stockTags),r.openVPage(E);case 2:case"end":return e.stop()}}),e)}))),r.onNewTag=function(){r.openVPage(G)},r.onEditTag=function(e){r.openVPage(q,e)},r.onSaveNewTag=function(){var e=Object(x.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,r.cApp.miNet.t_tag$save(n);case 3:if(a=e.sent,!(a.retId<0)){e.next=8;break}return alert(n+" \u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86"),e.abrupt("return",!1);case 8:return r.cApp.store.stockGroups.add(new R.StockGroup(n,n,r.cApp.miNet)),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onSaveTag=function(){var e=Object(x.a)(j.a.mark((function e(t){var n,a,i,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=t.name,i=r.cApp.store.stockGroups,{id:n,name:a},!0!==i.exists(n,a)){e.next=7;break}return alert(a+" \u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86"),e.abrupt("return",!1);case 7:return e.next=9,r.cApp.miNet.t_tag$save(a);case 9:if(c=e.sent,!(void 0===(s=c.retId)||s<0)){e.next=14;break}return alert(a+" \u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86"),e.abrupt("return",!1);case 14:return(o=i.groupFromId(n))&&(o.name=a),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onClickSelectTag=function(){var e=Object(x.a)(j.a.mark((function e(t,n){var a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if({user:C.nav.user.id,tag:t.id,arr1:[{stock:r.baseItem.id}]},!0!==n){e.next=8;break}return e.next=4,r.cApp.store.addTagStock(r.baseItem);case 4:a={tag:{id:t.id}},r.stockTags.push(a),e.next=12;break;case 8:return e.next=10,r.cApp.store.removeTagStock(r.baseItem);case 10:i=r.stockTags.findIndex((function(e){return e.tag.id===t.id})),r.stockTags.splice(i,1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.onClickDefaultTag=function(){var e=Object(x.a)(j.a.mark((function e(t){var n,a,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.cApp.store,a=n.stockGroups.defaultGroup.id,!0!==t){e.next=9;break}return e.next=5,n.addTagStock(r.baseItem);case 5:i={tag:{id:n.stockGroups.defaultGroup.id}},r.stockTags.push(i),e.next=13;break;case 9:return e.next=11,r.cApp.store.removeTagStock(r.baseItem);case 11:c=r.stockTags.findIndex((function(e){return e.tag.id===a})),r.stockTags.splice(c,1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showSelectStock=function(){var e=Object(x.a)(j.a.mark((function e(t){var n,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new B.a(r.cApp),e.next=3,n.call();case 3:return a=e.sent,(i=Object(m.a)({},a)).day=t,r.baseItem=i,r.loaded=!1,e.next=10,r.load();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.changeDay=function(){var e=Object(x.a)(j.a.mark((function e(t){var n,a,i,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.baseItem.day!==t){e.next=2;break}return e.abrupt("return");case 2:return n=r.baseItem,a=n.id,i=n.name,c=n.code,s=n.symbol,o={id:a,name:i,code:c,symbol:s,day:0===t?void 0:t},r.baseItem=o,r.loaded=!1,e.next=8,r.load();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(T.makeObservable)(Object(w.a)(r)),r}return Object(k.a)(n,[{key:"capitalearning",get:function(){if(!1!==this.loaded)return this._capitalearning}},{key:"bonus",get:function(){if(!1!==this.loaded)return this._bonus}},{key:"divideInfo",get:function(){if(!1!==this.loaded)return this._divideInfo}},{key:"loadTTMEarning",value:function(){var e=Object(x.a)(j.a.mark((function e(t){var n,r,a,i,c,s,o,u,l,p,d,f,h,m,v,g,x,y,O,k,w;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.seasonData.splice(0),n={},!((r=t.length)<=0)){e.next=5;break}return e.abrupt("return");case 5:a=t[r-1].seasonno,i=t[0],c=i.shares,s=i.seasonno,o=F.a.SeasonnoToBeginEnd(s),o.end,u=Object(b.a)(t);try{for(u.s();!(l=u.n()).done;)p=l.value,d=p.seasonno,f={season:d,c:p.capital*p.shares/c,e:p.pseason/c,esum:p.profit/c,corg:p.capital,eorg:p.es,esumorg:p.earning},n[d]=f}catch(j){u.e(j)}finally{u.f()}0,h=a;case 14:if(!(h<=s)){e.next=22;break}if(void 0!==(m=n[h])){e.next=18;break}return e.abrupt("continue",19);case 18:this.seasonData.splice(0,0,m);case 19:++h,e.next=14;break;case 22:if(v=s-19,this.predictData=void 0,this.predictSeasonData.splice(0),this.predictSeasonDataFull.splice(0),!(v<a)){e.next=28;break}return e.abrupt("return");case 28:v+=3,this.ypredict=[],g=v;case 31:if(!(g<=s)){e.next=40;break}if(void 0!==(x=n[g])){e.next=35;break}return e.abrupt("break",40);case 35:this.predictSeasonData.splice(0,0,x),this.ypredict.push(x.esum);case 37:g+=4,e.next=31;break;case 40:y=s;case 41:if(!(y>=a)){e.next=49;break}if(void 0!==(O=n[y])){e.next=45;break}return e.abrupt("break",49);case 45:this.predictSeasonDataFull.push(O);case 46:y-=4,e.next=41;break;case 49:5===this.ypredict.length?(k=new _.a(this.ypredict),w=new _.b(this.ypredict),this.predictData={e:this.ypredict[4],b:k.B,r2:k.r2,epre:k.predict(4),l:w.slopeR,lr2:w.r2,lpre:w.predict(4)}):this.predictSeasonData.splice(0);case 50:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ExrightEarning",value:function(e,t,n){for(var r=F.a.SeasonnoToBeginEnd(t).end,a=0;a<this.exrightForEarning.length;++a){var i=this.exrightForEarning[a],c=i.day;if(c>e)break;if(!(c<r)){var s=i.factor;n.c=n.c*s,n.e=n.e*s,n.esum=n.esum*s}}}},{key:"loadHistoryData",value:function(e){var t=this.historyDataOrg,n=t.length;if(n<=10)this.historyData=[];else{if(!e){var r=this.baseItem.day;if(void 0!==r){for(var a=n-1;a>=0;--a){if(t[a].day<=r)break}n=a+1}}var i=n-1,c=t[i],s=c.dayno;if(void 0===s)for(;i>0&&void 0===(s=(c=t[--i]).dayno););for(var o=c.day,u=s%5,l=[],p=0;p<=i;++p){var d=t[p],f=d.day,h=d.price;d.dayno%5===u&&l.push({day:f,price:this.RestorePrice(h,f,o),ttm:this.CalculateHistoryPE(h,f)})}this.historyData=l}}},{key:"RestorePrice",value:function(e,t,n){var r=0,a=e;if(t<n){for(var i=0;i<this.exrightInfo.length;++i){var c=this.exrightInfo[i],s=c.day,o=c.bonus,u=c.factor,l=c.factore;if(!(s<=t)){if(s>n)break;a*=u,r=(r+o)*l}}a-=r}else{for(var p=0;p<this.exrightInfo.length;++p){var d=this.exrightInfo[p],f=d.day,h=d.bonus,b=d.factor,m=d.factore;if(!(f<=n)){if(f>t)break;a/=b,r=r/m+h}}a+=r}return a}},{key:"CalculateHistoryPE",value:function(e,t){for(var n=F.a.SeasonnoFromDay(t),r=this.seasonData.length,a=0;a<r;++a){var i=this.seasonData[a];if(!(i.season>=n)){if(void 0===i.esumorg)return;var c=F.a.SeasonnoToBeginEnd(i.season).end;return this.RestorePrice(e,t,c)/i.esumorg}}}},{key:"internalStart",value:function(){var e=Object(x.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.baseItem=t,n=this.baseItem.id,this.isMySelect=this.cApp.store.isMySelect(n),this.initLoad(),this.openVPage(P.a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(I.b),a=Object(A.a)(r.prototype,"baseItem",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(A.a)(r.prototype,"loaded",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(A.a)(r.prototype,"price",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Object(A.a)(r.prototype,"stockTags",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(A.a)(r.prototype,"seasonData",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=Object(A.a)(r.prototype,"predictSeasonData",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(A.a)(r.prototype,"predictSeasonDataFull",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=Object(A.a)(r.prototype,"predictData",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=Object(A.a)(r.prototype,"ypredict",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(A.a)(r.prototype,"historyData",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(A.a)(r.prototype,"capitalearning",[T.computed],Object.getOwnPropertyDescriptor(r.prototype,"capitalearning"),r.prototype),Object(A.a)(r.prototype,"bonus",[T.computed],Object.getOwnPropertyDescriptor(r.prototype,"bonus"),r.prototype),Object(A.a)(r.prototype,"divideInfo",[T.computed],Object.getOwnPropertyDescriptor(r.prototype,"divideInfo"),r.prototype),h=Object(A.a)(r.prototype,"isMySelect",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r)},167:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"},customer:{name:"customer",type:"id",isKey:!1,label:"Customer"}},i=[a.no,a.customer],c={label:"OrderMaster",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},168:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return c})),n.d(t,"ui",(function(){return s})),n.d(t,"res",(function(){return o})),n.d(t,"render",(function(){return u}));var r=n(68),a=n(0),i={id:{name:"id",type:"id",isKey:!1,label:"Id"},parent:{name:"parent",type:"id",isKey:!0,label:"Parent"},row:{name:"row",type:"integer",isKey:!0,widget:"updown",label:"Row"},product:{name:"product",type:"id",isKey:!1,label:"Product"},price:{name:"price",type:"number",isKey:!1,widget:"number",label:"Price"},quantity:{name:"quantity",type:"number",isKey:!1,widget:"number",label:"Quantity"},amount:{name:"amount",type:"number",isKey:!1,widget:"number",label:"Amount"}},c=[i.parent,i.row,i.product,i.price,i.quantity,i.amount],s={label:"OrderDetail",fieldArr:c,fields:i},o={zh:{},en:{}};function u(e){var t=e.product,n=e.price,i=e.quantity,c=e.amount;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(r.render)(t)}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("div",{className:"w-3c"}),Object(a.jsxs)("div",{className:"w-8c",children:[Object(a.jsx)("span",{children:"\u6570\u91cf:"}),i]}),"\u5355\u4ef7:",n,"\u91d1\u989d:",c]})]})}},169:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},parent:{name:"parent",type:"integer",isKey:!0,widget:"updown",label:"Parent"},name:{name:"name",isKey:!0,label:"Name"}},i=[a.parent,a.name],c={label:"Tag",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},170:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"},firstName:{name:"firstName",type:"string",isKey:!1,widget:"string",label:"FirstName"},lastName:{name:"lastName",type:"string",isKey:!1,widget:"string",label:"LastName"}},i=[a.no,a.firstName,a.lastName],c={label:"Staff",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){var t=e.firstName,n=e.lastName,a=e.no;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{children:[t," ",n]})," ",Object(r.jsx)("span",{className:"text-muted ml-auto",children:a})]})}},171:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},name:{name:"name",isKey:!0,label:"Name"},mul:{name:"mul",type:"integer",isKey:!1,widget:"updown",label:"Mul"},div:{name:"div",type:"integer",isKey:!1,widget:"updown",label:"Div"},offset:{name:"offset",type:"integer",isKey:!1,widget:"updown",label:"Offset"},asc:{name:"asc",isKey:!1,label:"Asc"}},i=[a.name,a.mul,a.div,a.offset,a.asc],c={label:"$Piecewise",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},172:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},parent:{name:"parent",type:"id",isKey:!0,label:"Parent"},row:{name:"row",type:"integer",isKey:!0,widget:"updown",label:"Row"},sec:{name:"sec",type:"integer",isKey:!1,widget:"updown",label:"Sec"},value:{name:"value",type:"integer",isKey:!1,widget:"updown",label:"Value"}},i=[a.parent,a.row,a.sec,a.value],c={label:"$PiecewiseDetail",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},173:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},saleAmount:{name:"saleAmount",type:"number",isKey:!1,widget:"number",label:"SaleAmount"},deliver:{name:"deliver",type:"number",isKey:!1,widget:"number",label:"Deliver"}},i=[a.saleAmount,a.deliver],c={label:"Achieve",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},174:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},onsite:{name:"onsite",type:"integer",isKey:!1,widget:"updown",label:"Onsite"},offsite:{name:"offsite",type:"integer",isKey:!1,widget:"updown",label:"Offsite"},break:{name:"break",type:"integer",isKey:!1,widget:"updown",label:"Break"},sick:{name:"sick",type:"integer",isKey:!1,widget:"updown",label:"Sick"},over:{name:"over",type:"integer",isKey:!1,widget:"updown",label:"Over"},noTimeLog:{name:"noTimeLog",type:"integer",isKey:!1,widget:"updown",label:"NoTimeLog"}},i=[a.onsite,a.offsite,a.break,a.sick,a.over,a.noTimeLog],c={label:"Hours",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},175:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return a})),n.d(t,"ui",(function(){return i})),n.d(t,"res",(function(){return c})),n.d(t,"render",(function(){return s}));var r=n(0),a=[],i={label:"CustomerTag",fieldArr:a,fields:{id:{name:"id",type:"id",isKey:!1,label:"Id"},id2:{name:"id2",type:"id",isKey:!1,label:"Id2"}}},c={zh:{},en:{}};function s(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},176:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return a})),n.d(t,"ui",(function(){return i})),n.d(t,"res",(function(){return c})),n.d(t,"render",(function(){return s}));var r=n(0),a=[],i={label:"UserStaff",fieldArr:a,fields:{id:{name:"id",type:"id",isKey:!1,label:"Id"},id2:{name:"id2",type:"id",isKey:!1,label:"Id2"}}},c={zh:{},en:{}};function s(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},177:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"},name:{name:"name",type:"string",isKey:!1,widget:"string",label:"Name"}},i=[a.no,a.name],c={label:"Account",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},178:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},account:{name:"account",type:"id",isKey:!0,label:"Account"},stock:{name:"stock",type:"id",isKey:!0,label:"Stock"}},i=[a.account,a.stock],c={label:"Holding",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},179:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},holding:{name:"holding",type:"id",isKey:!0,label:"Holding"},tick:{name:"tick",isKey:!0,label:"Tick"},price:{name:"price",type:"integer",isKey:!1,widget:"updown",label:"Price"},quantity:{name:"quantity",type:"integer",isKey:!1,widget:"updown",label:"Quantity"},amount:{name:"amount",type:"integer",isKey:!1,widget:"updown",label:"Amount"}},i=[a.holding,a.tick,a.price,a.quantity,a.amount],c={label:"Transaction",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},180:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},market:{name:"market",type:"id",isKey:!0,label:"Market"},code:{name:"code",type:"string",isKey:!0,widget:"string",label:"Code"},name:{name:"name",type:"string",isKey:!1,widget:"string",label:"Name"}},i=[a.market,a.code,a.name],c={label:"Stock",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},181:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},name:{name:"name",type:"string",isKey:!0,widget:"string",label:"Name"},currency:{name:"currency",type:"string",isKey:!1,widget:"string",label:"Currency"}},i=[a.name,a.currency],c={label:"Market",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},182:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},quantity:{name:"quantity",type:"integer",isKey:!1,widget:"updown",label:"Quantity"}},i=[a.quantity],c={label:"Portfolio",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},183:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},miRate:{name:"miRate",type:"integer",isKey:!1,widget:"updown",label:"MiRate"},ttm:{name:"ttm",type:"integer",isKey:!1,widget:"updown",label:"Ttm"},divident:{name:"divident",type:"integer",isKey:!1,widget:"updown",label:"Divident"},price:{name:"price",type:"integer",isKey:!1,widget:"updown",label:"Price"},roe:{name:"roe",type:"integer",isKey:!1,widget:"updown",label:"Roe"},inc1:{name:"inc1",type:"integer",isKey:!1,widget:"updown",label:"Inc1"},inc2:{name:"inc2",type:"integer",isKey:!1,widget:"updown",label:"Inc2"},inc3:{name:"inc3",type:"integer",isKey:!1,widget:"updown",label:"Inc3"},inc4:{name:"inc4",type:"integer",isKey:!1,widget:"updown",label:"Inc4"},preInc:{name:"preInc",type:"integer",isKey:!1,widget:"updown",label:"PreInc"},marketValue:{name:"marketValue",type:"integer",isKey:!1,widget:"updown",label:"MarketValue"}},i=[a.miRate,a.ttm,a.divident,a.price,a.roe,a.inc1,a.inc2,a.inc3,a.inc4,a.preInc,a.marketValue],c={label:"StockValue",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},184:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},mi:{name:"mi",type:"integer",isKey:!1,widget:"updown",label:"Mi"},market:{name:"market",type:"integer",isKey:!1,widget:"updown",label:"Market"},count:{name:"count",type:"integer",isKey:!1,widget:"updown",label:"Count"}},i=[a.mi,a.market,a.count],c={label:"AccountValue",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},185:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return a})),n.d(t,"ui",(function(){return i})),n.d(t,"res",(function(){return c})),n.d(t,"render",(function(){return s}));var r=n(0),a=[],i={label:"UserAccount",fieldArr:a,fields:{id:{name:"id",type:"id",isKey:!1,label:"Id"},id2:{name:"id2",type:"id",isKey:!1,label:"Id2"}}},c={zh:{},en:{}};function s(e){return Object(r.jsx)(r.Fragment,{children:JSON.stringify(e)})}},191:function(e,t,n){},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(6),a=n(7),i=function(){function e(t){Object(r.a)(this,e),this.slope=void 0,this.intercept=void 0,this.y=void 0,this.slopeR=void 0,this.endY=void 0,this.r2=void 0,this.y=t,this.regress();var n=this.score();this.r2=n.r2}return Object(a.a)(e,[{key:"regress",value:function(){for(var e=this.y.length,t=0,n=0,r=0,a=0,i=0;i<e;++i)t+=i,n+=this.y[i],r+=i*i,a+=i*this.y[i];var c=e*a-t*n;this.slope=c/(e*r-t*t),this.intercept=1/e*n-this.slope*(1/e)*t;var s=this.slope>0?this.predict(e-2):this.predict(1);this.slopeR=s<.01?void 0:this.slope/s}},{key:"score",value:function(){for(var e=this.y.length,t=new Array(e),n=0;n<e;n++)t[n]=this.predict(n);for(var r=0,a=0,i=0,c=0,s=0,o=0,u=0,l=0;l<e;l++){var p=t[l];r+=p;var d=this.y[l];a+=d,s+=p*p,o+=d*d,u+=p*d;var f=d-p;0!==d&&(i+=f*f/d),c+=f*f}var h=(e*u-r*a)/Math.sqrt((e*s-r*r)*(e*o-a*a));return{r:h,r2:h*h,chi2:i,rmsd:Math.sqrt(c/e)}}},{key:"predict",value:function(e){return this.slope*e+this.intercept}},{key:"computeX",value:function(e){return(e-this.intercept)/this.slope}}]),e}(),c=function(){function e(t){Object(r.a)(this,e),this.A=void 0,this.B=void 0,this.y=void 0,this.r2=void 0,this.y=t,this.regress();var n=this.score();this.r2=n.r2}return Object(a.a)(e,[{key:"regress",value:function(){for(var e=this.y.length,t=0,n=0,r=0,a=0,i=0;i<e;++i){t+=i;var c=Math.log(this.y[i]);n+=c,r+=i*i,a+=i*c}var s=(e*a-t*n)/(e*r-t*t),o=1/e*n-s*(1/e)*t;this.A=Math.exp(o),this.B=s}},{key:"score",value:function(){for(var e=this.y.length,t=new Array(e),n=0;n<e;n++)t[n]=this.predict(n);for(var r=0,a=0,i=0,c=0,s=0,o=0,u=0,l=0;l<e;l++){var p=t[l];r+=p;var d=this.y[l];a+=d,s+=p*p,o+=d*d,u+=p*d;var f=d-p;0!==d&&(i+=f*f/d),c+=f*f}var h=(e*u-r*a)/Math.sqrt((e*s-r*r)*(e*o-a*a));return{r:h,r2:h*h,chi2:i,rmsd:Math.sqrt(c/e)}}},{key:"predict",value:function(e){return this.A*Math.exp(e*this.B)}}]),e}()},27:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h.a}));var r=n(3),a=n(0);function i(e,t,n,r,i){return Object(a.jsxs)("label",{className:"btn btn-outline-info mb-0",children:[Object(a.jsx)("input",{type:"radio",className:"btn-sm btn-check mr-1",name:e,defaultChecked:t===i,onClick:function(){return r(t)}}),n]})}function c(e,t,n){return t||(t="tagv"),Object(a.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[i(e,"tagv","\u7c73\u606f\u5206",n,t),i(e,"tagpe","TTM",n,t),i(e,"tagdp","\u80a1\u606f\u7387",n,t)]})}function s(e,t,n,i){e.id;var c,s=e.name,o=e.code,h=e.pe,b=e.roe,m=e.price,v=e.divyield,j=e.v,g=e.order,x=(e.symbol,e.l),y=(e.e,e.ep,e.e3,e.total),O=f(e.dataArr),k=Object(a.jsxs)("div",{className:"cursor-pointer",onClick:function(){return t(e)},children:[Object(a.jsx)("span",{className:"text-primary",children:s}),"\xa0",Object(a.jsx)("span",{className:"text-info",children:o}),"\xa0",Object(a.jsx)("small",{className:"small ml-1",children:Object(a.jsx)("span",{className:"text-danger",children:g})})]}),w=[["\u7c73\u606f\u5206",Math.log2(j),"n1"],["\u7c73\u606f\u7387",j,"n1"],["\u80a1\u606f\u7387",100*v,"n1"],["TTM",h,"n1"],["\u4ef7\u683c",m,"n2"],["ROE",100*b,"n1"],["\u9884\u589e",x,"p0"],["\u73b0\u589e",O[3],"p0"],["\u589e 1",O[2],"p0"],["\u589e 2",O[1],"p0"],["\u589e 3",O[0],"p0"],["\u5e02\u503c",y*m,"yi"]];return n&&(c=Object(a.jsx)("span",{className:"ml-4",children:n})),Object(a.jsxs)("div",{className:"d-block border-top",children:[Object(a.jsx)(r.LMR,{className:"px-2 py-1 bg-light",left:k,right:i,children:c}),Object(a.jsx)("div",{className:"d-flex flex-wrap p-1",children:w.map((function(e){return function(e,t,n){var r,i="px-2 mb-1 text-right c5";if(!0===isNaN(t))r="-";else switch(n){case"p0":r=p(t);break;case"p1":r=d(t);break;case"n1":r=u(t,1);break;case"n2":r=u(t,2);break;case"yi":r=l(t),i="px-2 mb-1 text-right c5"}return Object(a.jsxs)("div",{className:i,children:[Object(a.jsx)("span",{className:"text-muted small",children:e}),Object(a.jsx)("br",{}),r]},e)}(e[0],e[1],e[2])}))})]})}function o(e){var t=e.symbol;return Object(a.jsx)("a",{className:"text-info",href:"https://finance.sina.com.cn/realstock/company/".concat(t,"/nc.shtml"),target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.stopPropagation()},children:Object(a.jsx)(r.FA,{name:"angle-double-right"})})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toFixed(t)}function l(e){return void 0===e||isNaN(e)?"":Math.round(e/1e4).toString()}function p(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(0)+"%"}function d(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(1)+"%"}function f(e){var t=[void 0,void 0,void 0,void 0];if(void 0===e)return t;if(e.length<5)return t;for(var n=function(e,t){if(!(t<=0||e<=0))return e/t-1},r=0;r<4;++r)t[r]=n(e[r+1],e[r]);return t}var h=n(10)},37:function(e,t,n){"use strict";var r=n(164);n.o(r,"StockGroup")&&n.d(t,"StockGroup",(function(){return r.StockGroup})),n.o(r,"Store")&&n.d(t,"Store",(function(){return r.Store})),n.o(r,"sortStocks")&&n.d(t,"sortStocks",(function(){return r.sortStocks}));var a=n(165);n.d(t,"Store",(function(){return a.a}));var i=n(41);n.d(t,"sortStocks",(function(){return i.a}));var c=n(67);n.d(t,"StockGroup",(function(){return c.a}));n(66)},397:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),i=n(62),c=n.n(i),s=(n(190),n(191),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,398)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))}),o=n(42),u=n(0);c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(o.a,{})}),document.getElementById("root")),s()},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20);function a(e,t){t.sort(function(e){switch(e){case"tagpe":return function(e,t){return e.pe-t.pe};case"tagdp":return function(e,t){return t.divyield-e.divyield};default:return function(e,t){return t.v-e.v}}}(e));var n,a=1,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){n.value.order=a,++a}}catch(c){i.e(c)}finally{i.f()}}},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return Ke}));var r=n(7),a=n(6),i=n(9),c=n(8),s=n(3),o=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return n}(s.CBase),u=(s.CSub,function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"newC",value:function(e){var t=new e(this);return t.init(),t}}]),n}(s.CAppBase)),l=n(1),p=n.n(l),d=n(2),f={$zh:{home:"\u9996\u9875",relation:"\u5173\u7cfb",discover:"\u53d1\u73b0",test:"\u6d4b\u8bd5",debug:"Debug",me:"\u6211",changePassword:"\u4fee\u6539\u5bc6\u7801",aboutTheApp:"\u5173\u4e8e\u672cAPP",logout:"\u9000\u51fa\u767b\u5f55",pleaseLogin:"\u767b\u5f55",content:"\u5185\u5bb9",backend:"\u540e\u53f0\u7ba1\u7406"},$en:{home:"Home",relation:"Relation",discover:"Discover",test:"Test",debug:"Debug",me:"Me",changePassword:"Change password",aboutTheApp:"About the APP",logout:"Logout",pleaseLogin:"Login",content:"Content",backend:"Backend Management"}},h=function(e){return!0===e?"text-primary":"text-muted"};var b=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"header",value:function(){return!1}},{key:"tabsProps",get:function(){var e=this.controller,t=e.cHome,n=e.cHolding,r=e.cExporer,a=e.cMe;return{tabs:[{name:"home",label:"\u9996\u9875",icon:"home",content:t.tab,notify:void 0,load:t.load,onShown:t.load},{name:"explorer",label:"\u6301\u4ed3",icon:"money",content:n.tab,load:n.load},{name:"explorer",label:"\u9009\u80a1",icon:"search",content:r.tab,load:r.load},{name:"me",label:"\u6211\u7684",icon:"user",content:a.tab,onShown:void 0}].map((function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,caption:function(e){return Object(s.TabCaptionComponent)(n,r,h(e))},content:e.content,notify:e.notify,load:e.load,onShown:e.onShown}}))}}}]),n}(s.VPage),m=n(63),v=n(64);var j,g,x,y,O=n(13),k=n(69),w=n(4),N=n.p+"static/media/logo.2d27ead7.svg",S=n(0),A=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){s.FA;var e=Object(S.jsx)("img",{className:"m-1",src:N,alt:"logo",style:{height:"3rem",width:"3rem"}});return Object(S.jsx)(s.LMR,{className:"mb-3 align-items-center bg-white",left:e,right:undefined,children:Object(S.jsx)("div",{className:"",children:this.controller.renderSearchHeader("md")})})}}]),n}(s.View),T=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).onSearch=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(r.a)(n,[{key:"render",value:function(e){return Object(S.jsx)(s.SearchBox,{className:"px-1 w-100",size:e,onSearch:this.onSearch,placeholder:"\u529f\u80fd..."})}}]),n}(s.View),C=n(23),I=n(11),F=n(27),P=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t,n){return e.rowContent(t)},e.rowContent=function(t){var n=Object(F.i)(t);return Object(F.h)(t,e.onClickName,null,n)},e.rowKey=function(e){return e.id},e.onClickName=function(t){e.controller.openStockInfo(t)},e.onSelected=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.clickRow=function(t){e.callOnSelected(t)},e}return Object(r.a)(n,[{key:"header",value:function(){var e=this;return w.createElement(Object(I.observer)((function(){return Object(S.jsxs)("span",{className:"ml-3",children:["\u9996\u9875 - ",e.controller.stockGroup.name]})})))}},{key:"right",value:function(){var e=this;return w.createElement(Object(I.observer)((function(){var t=e.controller.store.stockGroups.groups.map((function(t){return{caption:t.name,action:function(){return e.controller.changeGroup(t)}}})),n=[{caption:"\u5e02\u573a\u5e73\u5747PE",action:e.controller.openMarketPE},{caption:"\u9009\u62e9\u80a1\u7968",action:e.controller.onAddStock},void 0].concat(Object(C.a)(t),[void 0,{caption:"\u7ba1\u7406\u81ea\u9009\u7ec4",action:e.controller.manageGroups}]);return Object(S.jsx)(s.DropdownActions,{actions:n,icon:"bars",className:"mr-2 text-white bg-transparent border-0"})})))}},{key:"onPageScrollBottom",value:function(e){this.controller.onPage()}},{key:"content",value:function(){var e=this;return w.createElement(Object(I.observer)((function(){var t=e.controller,n=t.setSortType,r=t.stockGroup,a=t.sortType,i=(r.name,r.stocks),c=e.controller;c.onSelectTag,c.onAddStock;return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"d-flex justify-content-end mr-2 my-1",children:Object(F.g)("radioHome",a,n)}),Object(S.jsx)(s.List,{items:i,item:{render:e.renderRow,key:e.rowKey},before:"...",none:Object(S.jsx)("small",{className:"px-3 py-3 text-info",children:"\u65e0\u81ea\u9009\u80a1, \u8bf7\u9009\u80a1"})})]})})))}},{key:"callOnSelected",value:function(e){void 0!==this.onSelected?this.onSelected(e):alert("onSelect is undefined")}}]),n}(s.VPage),D=n(17),M=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderTag=function(e){return Object(S.jsx)("div",{className:"px-3 py-2 cursor-pointer",children:e.name})},e.page=Object(D.d)((function(){var t=e.controller.cApp.store.stockGroups,n=e.controller.onClickTag;return Object(S.jsx)(s.Page,{header:"\u9009\u62e9\u5206\u7ec4",headerClassName:"bg-primary",children:Object(S.jsx)(s.List,{items:t.groups,item:{onClick:n,render:e.renderTag}})})})),e}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(s.VPage),K=n(18),E=n(14),L=(n(40),n(5)),V=n(20),G=n(34),q=n.n(G),_=n(10),R=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=this;Object(a.a)(this,n);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).input=void 0,e.key=void 0,e.checkLimitShow=function(t){var n=t.target.checked?1:0;e.controller.onLongShortFlag(n)},e.page=Object(I.observer)((function(){var e=Object(S.jsx)("div",{children:""});return Object(S.jsx)(s.Page,{header:e,headerClassName:"bg-primary",children:Object(S.jsx)(r.pageContent,{})})})),e.pageContent=Object(I.observer)((function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(r.historyChart,{})})})),e.historyChart=Object(I.observer)((function(){var t=e.controller.historyData;if(void 0===t)return Object(S.jsx)(S.Fragment,{});var n,r=S.Fragment,a=[],i=[],c=[],o=Object(V.a)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value,l=u.day,p=u.pe,d=u.e;a.push(l),i.push(_.a.numberToPrecision(p,4)),c.push(d)}}catch(b){o.e(b)}finally{o.f()}var f={labels:a,datasets:[{label:"PE",data:i,borderColor:"blue",backgroundColor:"skyBlue",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"e",data:c,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1,yAxisID:"y-axis-2"}]};r=Object(S.jsx)(q.a,{data:f,type:"line",options:{scales:{yAxes:[{type:"linear",display:!0,position:"right",id:"y-axis-1"},{type:"linear",display:!0,position:"left",id:"y-axis-2",gridLines:{drawOnChartArea:!1}}]}}});var h=S.Fragment;return h=Object(S.jsxs)("label",{className:"px-3",children:[" ",Object(S.jsx)("input",{type:"checkbox",name:"selectType",defaultChecked:!1,onChange:e.checkLimitShow}),"\u957f\u671f"]}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(s.LMR,{className:"px-3 py-2 bg-white",left:"\u5e02\u573aPE\u5386\u53f2\u8d70\u52bf",right:h}),Object(S.jsx)("div",{className:"px-3",style:{width:"95%"},children:r})]})})),e}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return Object(S.jsx)(this.page,{})}}]),n}(s.VPage),B=(j=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(K.a)(e,"historyData",g,Object(O.a)(e)),e.longshortFlag=0,e.loadData=Object(d.a)(p.a.mark((function t(){var n,r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,r=[1e4*n.getFullYear()+100*(n.getMonth()+1)+n.getDate(),750,e.longshortFlag],t.next=4,e.cApp.miNet.q_marketpe(r);case 4:a=t.sent,e.historyData=a.reverse();case 6:case"end":return t.stop()}}),t)}))),e}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData(),this.openVPage(R);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLongShortFlag",value:function(e){e!==this.longshortFlag&&(this.longshortFlag=e,this.loadData())}}]),n}(o),g=Object(E.a)(j.prototype,"historyData",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j),z=n(43),W=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).store=void 0,r.stockGroup=void 0,r.sortType=void 0,r.load=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stockGroup=r.store.getHomeStockGroup(),r.stockGroup,r.sortType=r.store.config.userStock.sortType,r.sortType||(r.sortType=""),e.next=6,r.stockGroup.loadItems();case 6:r.stockGroup.sort(r.sortType);case 7:case"end":return e.stop()}}),e)}))),r.manageGroups=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.cApp.showGroupsManage();case 1:case"end":return e.stop()}}),e)}))),r.onSelectTag=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(M);case 1:case"end":return e.stop()}}),e)}))),r.onAddStock=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new z.a(r.cApp),e.next=3,t.call();case 3:if(void 0===(n=e.sent)){e.next=7;break}return e.next=7,r.stockGroup.addStock(n);case 7:case"end":return e.stop()}}),e)}))),r.onClickTag=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cApp.store.selectTag(t);case 2:r.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onPage=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.onWarningConfg=function(){r.cApp.cWarning.onWarningConfg()},r.renderSiteHeader=function(){return r.renderView(A)},r.renderSearchHeader=function(e){return r.renderView(T,e)},r.tab=function(){return r.renderView(P)},r.openStockInfo=function(e){r.newC(k.CStockInfo).start(e)},r.openMarketPE=function(){r.newC(B).start()},r.setSortType=function(e){r.stockGroup.sort(e),r.store.setUserSortType(e)},Object(L.makeObservable)(Object(O.a)(r),{stockGroup:L.observable,sortType:L.observable});var i=e.store;return r.store=i,r}return Object(r.a)(n,[{key:"changeGroup",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stockGroup=t,e.next=3,this.stockGroup.loadItems();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(o),$=(x=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).schema=[{name:"nick",type:"string"},{name:"icon",type:"image"}],r.uiSchema={items:{nick:{widget:"text",label:"\u522b\u540d",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"},icon:{widget:"image",label:"\u5934\u50cf"}}},Object(K.a)(r,"data",y,Object(O.a)(r)),r.onItemChanged=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.name,e.next=3,s.userApi.userSetProp(i,n);case 3:r.data[i]=n,s.nav.user.name=n,s.nav.saveLocalUser();case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.onExit=function(){s.nav.showLogout()},r.changePassword=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.nav.changePassword();case 2:case"end":return e.stop()}}),e)}))),r.page=function(){var e=Object(O.a)(r),t=e.schema,n=e.uiSchema,a=e.data,i=e.onItemChanged,c=["",{type:"component",component:Object(S.jsx)(s.IconText,{iconClass:"text-info mr-2",icon:"key",text:r.t("changePassword")}),onClick:r.changePassword},"","",{type:"component",bk:"",component:Object(S.jsx)("div",{className:"w-100 text-center",children:Object(S.jsxs)("button",{className:"btn btn-danger w-100 w-max-20c",onClick:r.onExit,children:[Object(S.jsx)(s.FA,{name:"sign-out",size:"lg"})," ",r.t("logout")]})})}];return Object(S.jsxs)(s.Page,{header:"\u4e2a\u4eba\u4fe1\u606f",children:[Object(S.jsx)(s.Edit,{schema:t,uiSchema:n,data:a,onItemChanged:i}),Object(S.jsx)(s.PropGrid,{rows:c,values:{}})]})};var i=s.nav.user,c=i.nick,o=i.icon;return r.data={nick:c,icon:o},r}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(s.VPage),y=Object(E.a)(x.prototype,"data",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x),H={version:"0.1.0",app:void 0,uqs:[{dev:{name:"bizdev",alias:"bz"},name:"hello-tonva",alias:"HelloTonva",version:"0.1.0"},{dev:{name:"bruce",alias:void 0},name:"yumi",alias:"YuMi",version:"0.1.0"}],noUnit:!0,tvs:{},oem:void 0,htmlTitle:"\u9c7c\u7c73\u4e61 - \u79c1\u4eab\u6295\u8d44\u5708"},J=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"header",value:function(){return"\u57fa\u672c\u6982\u5ff5"}},{key:"content",value:function(){return Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:"my-3",children:[Object(S.jsx)("div",{className:"my-2",children:"\u57fa\u672c\u516c\u7406"}),Object(S.jsxs)("ul",{className:"px-3 text-info",children:[Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u516c\u74061: "}),"\u8fdb\u6b65\u662f\u793e\u4f1a\u7684\u5fc5\u7136"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u516c\u74062: "}),"\u4fe1\u4efb\u662f\u7ecf\u6d4e\u7684\u57fa\u77f3"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u516c\u74063: "}),"\u4ef7\u503c\u662f\u4ef7\u683c\u7684\u51c6\u5fc3"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u516c\u74064: "}),"\u53d1\u5c55\u662f\u4f01\u4e1a\u7684\u57fa\u56e0"]})]})]}),Object(S.jsxs)("li",{className:"my-3",children:[Object(S.jsx)("div",{className:"my-2",children:"\u7c73\u6295\u5b9a\u5f8b"}),Object(S.jsx)("ul",{className:"px-3 text-info",children:Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u5b9a\u5f8b1: "}),"\u6295\u8d44\u65e0\u98ce\u9669"]})})]}),Object(S.jsxs)("li",{className:"my-3",children:[Object(S.jsx)("div",{className:"my-2",children:"\u7c73\u6295\u539f\u5219"}),Object(S.jsxs)("ul",{className:"px-3 text-info",children:[Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u539f\u52191: "}),"\u4f4e\u4f30"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u539f\u52192: "}),"\u5206\u6563"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u539f\u52193: "}),"\u4e0d\u6df1\u7814"]})]})]}),Object(S.jsxs)("li",{className:"my-3",children:[Object(S.jsx)("div",{className:"my-2",children:"\u7c73\u606f\u5b9a\u4e49"}),Object(S.jsxs)("ul",{className:"px-3 text-info",children:[Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e491: "}),"\u7c73\u606f = \u589e\u606f + \u80a1\u606f"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e492: "}),"\u589e\u606f = \u4f01\u4e1a\u672a\u6765\u4e09\u5e74\u5229\u6da6\u589e\u957f\u503c"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e493: "}),"\u7c73\u606f\u7387 = \u7c73\u606f / \u80a1\u4ef7"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e494: "}),"\u7c73\u606f\u7387\u5927\u4e00\u500d\uff0c\u7c73\u606f\u5206\u52a01"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e495: "}),"PE = \u80a1\u4ef7 / \u5229\u6da6"]})]})]})]})}}]),n}(s.VPage),U=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"header",value:function(){return"\u5173\u4e8eAPP"}},{key:"content",value:function(){return Object(S.jsxs)("div",{className:"py-5 px-3 my-3 w-max-30c mx-auto bg-white",children:[Object(S.jsxs)("div",{className:"text-center mb-5 position-relative",children:[Object(S.jsxs)("small",{className:"text-muted position-absolute",style:{right:"0",top:"-2.8rem"},children:["\u7248\u672c: ",H.version]}),Object(S.jsx)("i",{className:"text-danger position-absolute top-0 start-0 fa fa-fire fa-2x",style:{left:"2rem",top:"0.5rem"}}),Object(S.jsxs)("b",{className:"text-danger h5 mb-0",children:[Object(S.jsx)("span",{className:"text-primary",children:"\u9c7c"}),Object(S.jsx)("b",{className:"mx-1",children:"\u7c73"}),Object(S.jsx)("span",{className:"text-success",children:"\u4e61"})]}),Object(S.jsx)("br",{}),Object(S.jsx)("small",{className:"text-info",children:"\u79c1\u4eab\u6295\u8d44\u5708"})]}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"\u8ddf\u5bb6\u4eba\u548c\u597d\u53cb\u4e00\u8d77\u5206\u4eab\u6295\u8d44\u601d\u8003\u3002"}),Object(S.jsx)("li",{children:"\u4e16\u754c\u7ea7\u6295\u8d44\u5927\u5e08\u5e74\u5316\u6536\u76ca\u738711%\u3002"}),Object(S.jsx)("li",{children:"\u5168\u7403\u6700\u5927\u7684\u6210\u957f\u7ecf\u6d4e\u4f53GDP\u589e\u957f\u7387\u9ad8\u4e8e5%\u3002"}),Object(S.jsxs)("li",{children:["\u4ee510%\u4e3a\u57fa\u7840\uff0c\u671f\u5f85",Object(S.jsx)("b",{className:"text-danger mx-1",children:"15%\u4ee5\u4e0a"}),"\u7684\u9ad8\u6c34\u5e73\u3002"]})]}),Object(S.jsxs)("div",{className:"mt-5 text-center",children:[Object(S.jsx)("small",{className:"text-muted mr-2",children:"by"}),"\u540c\u82b1\u6295\u987e"]})]})}}]),n}(s.VPage),Y=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).meInfo=Object(I.observer)((function(){var t=s.nav.user;if(void 0===t)return null;var n=t.id,r=t.name,a=t.nick,i=t.icon;return Object(S.jsx)(s.LMR,{className:"py-2 cursor-pointer w-100",left:Object(S.jsx)(s.Image,{className:"w-3c h-3c mr-3",src:i||".user-o"}),right:Object(S.jsx)(s.FA,{className:"align-self-end",name:"angle-right"}),onClick:e.controller.showEditMe,children:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:X(r,a)}),Object(S.jsxs)("div",{className:"small",children:[Object(S.jsx)("span",{className:"text-muted",children:"ID:"})," ",n>1e4?n:String(n+1e4).substr(1)]})]})})})),e.faq=function(){e.openVPage(J)},e.about=function(){e.openVPage(U)},e}return Object(r.a)(n,[{key:"header",value:function(){return this.t("me")}},{key:"content",value:function(){var e,t=s.nav.user,n=["",{type:"component",component:Object(S.jsx)(s.LMR,{className:"w-100",onClick:this.faq,right:Object(S.jsx)(s.FA,{className:"align-self-center",name:"angle-right"}),children:Object(S.jsx)(s.IconText,{iconClass:"text-info mr-2",icon:"comments-o",text:this.t("\u57fa\u672c\u6982\u5ff5")})})},{type:"component",component:Object(S.jsx)(s.LMR,{className:"w-100",onClick:this.about,right:Object(S.jsx)(s.FA,{className:"align-self-center",name:"angle-right"}),children:Object(S.jsx)(s.IconText,{iconClass:"text-info mr-2",icon:"smile-o",text:Object(S.jsxs)(S.Fragment,{children:[this.t("aboutTheApp")," ",Object(S.jsxs)("small",{children:["\u7248\u672c ",H.version]})]})})})}];if(void 0===t)(e=n).push({type:"component",component:Object(S.jsxs)("button",{className:"btn btn-success w-100 my-2",onClick:function(){return s.nav.logout()},children:[Object(S.jsx)(s.FA,{name:"sign-out",size:"lg"})," ",this.t("pleaseLogin")]})});else{var r;(r=e=["",{type:"component",component:Object(S.jsx)(this.meInfo,{})}]).push.apply(r,n.concat([]))}return Object(S.jsx)(s.PropGrid,{rows:Object(C.a)(e),values:{}})}}]),n}(s.VPage);function X(e,t){return t?Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("b",{children:[t," \xa0 ",Object(S.jsx)("small",{className:"muted",children:e})]})}):Object(S.jsx)("b",{children:e})}var Q,Z,ee=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).role=void 0,e.unitOwner=void 0,e.rootUnits=void 0,e.tab=function(){return e.renderView(Y)},e.showEditMe=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.role=void 0,e.openVPage($);case 2:case"end":return t.stop()}}),t)}))),e}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(o),te=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=Object(S.jsx)("img",{className:"m-1",src:N,alt:"logo",style:{height:"3rem",width:"3rem"}});return Object(S.jsx)(s.LMR,{className:"mb-3 align-items-center bg-white",left:e,right:undefined,children:Object(S.jsx)("div",{className:"",children:this.controller.renderSiteHeader()})})}}]),n}(s.View),ne=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t,n){return e.rowContent(t)},e.rowContent=function(t){var n=e.controller.cApp.store,r=t,a=r.id;r.symbol;if(!0===n.isMyBlack(a))return null;var i="vexl_"+a,c=n.isMySelect(a),s=Object(S.jsxs)("label",{className:"mb-0 cursor-pointer",children:[Object(S.jsx)("input",{className:"mr-1",type:"checkbox",value:"",id:i,defaultChecked:c,onChange:function(n){return e.onSelect(t,n.target.checked)}}),Object(S.jsx)("small",{className:"text-muted",children:"\u81ea\u9009"})]}),o=Object(S.jsx)("div",{className:"d-flex",children:Object(F.i)(t)});return Object(F.h)(t,e.onClickName,s,o)},e.rowKey=function(e){return void 0!==e.item?e.item.id:e.id},e.onClickName=function(t){e.controller.openStockInfo(t)},e.onSelect=function(){var t=Object(d.a)(p.a.mark((function t(n,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.controller.onSelectItem(n,r);case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onClickItem=function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.controller.openStockInfo(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(r.a)(n,[{key:"header",value:function(){return"\u80a1\u7968\u53d1\u73b0"}},{key:"onPageScrollBottom",value:function(e){this.controller.onPage()}},{key:"right",value:function(){var e=this.controller.onConfig;return Object(S.jsx)("div",{className:"btn align-self-center cursor-pointer ",onClick:e,children:Object(S.jsx)(s.FA,{name:"cog",size:"lg",inverse:!0})})}},{key:"content",value:function(){var e=this;return w.createElement(Object(I.observer)((function(){var t,n=e.controller,r=n.explore,a=n.load,i=n.setSortType,c=r.items,o=r.avgs,u=r.sortType,l=Object(S.jsx)("div",{className:"btn btn-link cursor-pointer py-1",onClick:a,children:"\u5237\u65b0"});if(void 0!==o.avg){var p=" : ".concat(_.a.numberToFixString(Math.log(o.avg),1));t=Object(S.jsxs)("div",{className:"px-3 cursor-pointer align-self-center",children:[_.a.caption("\u7c73\u606f\u5206\u5747\u503c"),p]})}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(s.LMR,{left:t,right:l}),Object(S.jsx)("div",{className:"d-flex justify-content-end mr-2 my-1",children:Object(F.g)("radioHome",u,i)}),Object(S.jsx)(s.List,{items:c,item:{render:e.renderRow,key:e.rowKey},before:"\u9009\u80a1"})]})})))}}]),n}(s.VPage),re=[{name:"irate",type:"number",required:!0},{name:"bmin",type:"number",required:!0},{name:"bmax",type:"number",required:!0},{name:"r2",type:"number",required:!0},{name:"lmin",type:"number",required:!0},{name:"lmax",type:"number",required:!0},{name:"lr2",type:"number",required:!0},{name:"mcount",type:"integer",required:!0},{name:"lr4",type:"number",required:!0},{name:"r210",type:"number",required:!0},{name:"submit",type:"submit"}],ae={items:{irate:{widget:"number",label:"\u65e0\u98ce\u9669\u6536\u76ca\u7387",placeholder:"0.04"},bmin:{widget:"number",label:"\u6307\u6570\u56de\u5f52\u6700\u5c0f\u503c",placeholder:"0.00"},bmax:{widget:"number",label:"\u6307\u6570\u56de\u5f52\u6700\u5927\u503c",placeholder:"0.00"},r2:{widget:"number",label:"\u6307\u6570\u56de\u5f52R2",placeholder:"0.00"},lmin:{widget:"number",label:"\u7ebf\u6027\u56de\u5f52\u6700\u5c0f\u503c",placeholder:"0.00"},lmax:{widget:"number",label:"\u7ebf\u6027\u56de\u5f52\u6700\u5927\u503c",placeholder:"0.00"},lr2:{widget:"number",label:"\u7ebf\u6027\u56de\u5f52R2",placeholder:"0.00"},lr4:{widget:"number",label:"\u672b\u5e74\u4e0e\u524d4\u5e74\u5747\u503c\u6700\u5927\u6bd4\u503c",placeholder:"0.00"},mcount:{widget:"number",label:"5\u5e74\u5185\u5355\u5b63\u4e8f\u635f\u6700\u591a\u5141\u8bb8\u51fa\u73b0\u6b21\u6570",placeholder:"0.00"},r210:{widget:"number",label:"\u5341\u5e74\u56de\u5f52R2",placeholder:"0.00"},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},ie=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).sortChage=function(t){var n=t.target.value;e.controller.cApp.store.setStockSortType(n)},e.selectChange=function(t){var n=t.target.value;e.controller.cApp.store.setStockSelectType(n)},e.onChange=function(e){var t=e.target;t.name,t.value},e.onFormButtonClick=function(){var t=Object(d.a)(p.a.mark((function t(n,r){var a,i,c,s,o,u,l,d,f,h,b,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.data,i=a.bmin,c=a.bmax,s=a.r2,o=a.lmin,u=a.lmax,l=a.lr2,d=a.mcount,f=a.lr4,h=a.r210,b=a.irate,m={bmin:i,bmax:c,r2:s,lmin:o,lmax:u,lr2:l,mcount:d,lr4:f,r210:h,irate:b},t.next=4,e.controller.cApp.store.setRegressionConfig(m);case 4:e.controller.closePage();case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.page=Object(I.observer)((function(){e.controller.cApp.store.findStockConfg;var t=e.controller.cApp.store.config.regression;return void 0===t.irate&&(t.irate=.04),Object(S.jsxs)(s.Page,{header:"\u9009\u80a1\u8bbe\u7f6e",headerClassName:"bg-primary",children:[Object(S.jsx)("div",{className:"px-3 py-2",children:"\u56de\u5f52\u53c2\u6570"}),Object(S.jsx)(s.Form,{schema:re,uiSchema:ae,formData:t,onButtonClick:e.onFormButtonClick})]})})),e}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(s.VPage),ce=n(26),se=n(37),oe=function(){function e(t){var n=this;Object(a.a)(this,e),this.store=void 0,this.items=void 0,this.avgs={},this.lastTradeDay=void 0,this.sortType=void 0,this.selectedItems=[],this.load=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.selectedItems=[],e.next=3,n.loadItems();case 3:t=e.sent,Object(L.runInAction)((function(){n.sortType=n.store.config.userStock.sortType,Object(se.sortStocks)(n.sortType,t),n.items?n.items.splice(0,n.items.length,t):n.items=t}));case 5:case"end":return e.stop()}}),e)}))),this.store=t,Object(L.makeObservable)(this,{avgs:L.observable,items:L.observable,sortType:L.observable})}return Object(r.a)(e,[{key:"loadItems",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,r,a,i,c,s,o,u,l,d=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="all",e.next=3,this.store.loadExportItems(t);case 3:if(n=e.sent,r=n[1],Array.isArray(r)&&r.length>0?this.lastTradeDay=r[0].day:this.lastTradeDay=void 0,a=n[0],!1!==Array.isArray(a)){e.next=9;break}return e.abrupt("return");case 9:i=a,c=Object(V.a)(i);try{for(c.s();!(s=c.n()).done;)o=s.value,u=JSON.parse(o.data),o.dataArr=u,l=new ce.b(u),o.ep=(l.predict(4)+o.e)/2,o.v=F.a.calculateVN(l.slopeR,o.ep,o.divyield*o.price,o.exprice),o.e3=l.predict(7)}catch(p){c.e(p)}finally{c.f()}return Object(L.runInAction)((function(){d.avgs="all"===t?F.a.CalculateValueAvg(i):{}})),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onItemSelected",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.addTagStock(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onItemUnselected",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.removeTagStock(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSortType",value:function(e){var t=this;Object(L.runInAction)((function(){Object(se.sortStocks)(e,t.items),t.store.setUserSortType(e)}))}}]),e}(),ue=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).explore=void 0,r.load=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.explore.load();case 1:case"end":return e.stop()}}),e)}))),r.onPage=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r.onConfig=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.openVPage(ie);case 1:case"end":return e.stop()}}),e)}))),r.onSelectItem=function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===n?r.explore.onItemSelected(t):r.explore.onItemUnselected(t);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.setSortType=function(e){return r.explore.setSortType(e)},r.renderSiteHeader=function(){return r.renderView(te)},r.renderHome=function(){return r.renderView(ne)},r.openMetaView=function(){},r.tab=function(){return r.renderHome()},r.openStockInfo=function(e){r.newC(k.CStockInfo).start(e)},r.onClickPredictAVG=function(){var e=r.explore,t=e.avgs,n={day:void 0,priceDay:e.lastTradeDay,avg20:t.avg20,avg50:t.avg50,avg100:t.avg100,avg:t.avg};r.cApp.openPredictAVG(n)};var i=e.store;return r.explore=new oe(i),r}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(o),le=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).onSelect=function(e,t,n){},e.page=Object(D.d)((function(){var t=e.controller.warnings,n=t.length>=100?"":Object(S.jsxs)("div",{className:"px-3 py-2 cursor-pointer",onClick:e.controller.onNewWarning,children:[Object(S.jsx)(s.FA,{name:"plus",className:"text-primary"})," \xa0 \u65b0\u5efa\u9884\u8b66"]});return Object(S.jsxs)(s.Page,{header:"\u9884\u8b66",headerClassName:"bg-primary",children:[n,Object(S.jsx)(s.List,{items:t,item:{render:e.renderWarning},none:"--"})]})})),e.renderWarning=function(e){var t=e.name,n=e.code,r=e.type,a=e.price,i=Object(S.jsxs)("div",{className:"px-3 cursor-pointer",children:[t,Object(S.jsx)("small",{className:" mx-3",children:n})]});return Object(S.jsx)(s.LMR,{className:"mx-3 my-2",left:i,children:Object(S.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(S.jsx)("div",{className:"px-3 c6",children:_.a.warningTypeString(r)}),Object(S.jsx)("div",{className:"px-3 c6",children:_.a.numberToFixString(a)})]})})},e}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(s.VPage),pe=[{name:"id",type:"id"},{name:"type",type:"string",required:!0,maxLength:2},{name:"price",type:"number",required:!0},{name:"submit",type:"submit"}],de={items:{id:{widget:"id",label:"\u80a1\u7968",visible:!0},type:{widget:"select",label:"\u7c7b\u578b",list:[{value:"gt",title:"\u5927\u4e8e"},{value:"lt",title:"\u5c0f\u4e8e"}]},price:{widget:"text",label:"\u4ef7\u683c",placeholder:"0.00"},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},fe=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).newuiSchema={items:{id:{widget:"id",label:"\u80a1\u7968",visible:!0,placeholder:Object(S.jsx)("small",{className:"text-muted",children:"\u8bf7\u9009\u62e9\u80a1\u7968"}),pickId:function(){var t=Object(d.a)(p.a.mark((function t(n,r,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.showSelectStock(n,r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Templet:function(e){var t=e.name,n=e.code;return e?Object(S.jsxs)("div",{children:[t,Object(S.jsx)("small",{className:" mx-3",children:n})]}):Object(S.jsx)("small",{className:"text-muted",children:"\u8bf7\u9009\u62e9\u80a1\u7968"})}},type:{widget:"select",label:"\u7c7b\u578b",list:[{value:"gt",title:"\u5927\u4e8e"},{value:"lt",title:"\u5c0f\u4e8e"}]},price:{widget:"text",label:"\u4ef7\u683c",placeholder:"0.00"},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},e.onFormButtonClick=function(){var t=Object(d.a)(p.a.mark((function t(n,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveNewWarning(r.data);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.page=function(){return Object(S.jsx)(s.Page,{header:"\u65b0\u5efa\u9884\u8b66",headerClassName:"bg-primary",children:Object(S.jsx)("div",{className:"px-3 py-3",children:Object(S.jsx)(s.Form,{schema:pe,uiSchema:e.newuiSchema,formData:{type:"lt"},onButtonClick:e.onFormButtonClick})})})},e}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(s.VPage),he=(s.VPage,Q=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(K.a)(e,"warnings",Z,Object(O.a)(e)),e.onNewWarning=function(){e.openVPage(fe)},e.onWarningConfg=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadWarnings();case 2:e.openVPage(le);case 3:case"end":return t.stop()}}),t)}))),e.onSaveNewWarning=function(){var t=Object(d.a)(p.a.mark((function t(n){var r,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.id,a=n.type,i=n.price,t.next=3,e.cApp.miNet.t_stockwarning$add(r.id,a,i);case 3:e.closePage();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaveWarning=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.showSelectStock=function(){var t=Object(d.a)(p.a.mark((function t(n,r,a){var i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new z.a(e.cApp),t.next=3,i.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadWarnings",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cApp.miNet.t_stockwarning$all();case 2:t=e.sent,n=t,this.warnings=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(o),Z=Object(E.a)(Q.prototype,"warnings",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q),be=n(71),me=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=this;Object(a.a)(this,n);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).page=Object(I.observer)((function(){return Object(S.jsx)(s.Page,{header:"\u9884\u671f\u6536\u76ca\u6bd4\u5747\u503c\u5386\u53f2",children:Object(S.jsx)(r.pageContent,{})})})),e.pageContent=Object(I.observer)((function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(r.historyChart,{})})})),e.historyChart=Object(I.observer)((function(){var t=e.controller.items;if(void 0===t)return Object(S.jsx)(S.Fragment,{});var n,r=S.Fragment,a=[],i=[],c=[],o=[],u=Object(V.a)(t);try{for(u.s();!(n=u.n()).done;){var l=n.value,p=l.day,d=l.avg20,f=l.avg50,h=l.avg100;a.push(p),i.push(d),c.push(f),o.push(h)}}catch(m){u.e(m)}finally{u.f()}var b={labels:a,datasets:[{label:"avg20",data:i,borderColor:"blue",backgroundColor:"skyBlue",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"avg50",data:c,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"avg100",data:o,borderColor:"DarkGreen",backgroundColor:"green",borderWidth:1,fill:!1,yAxisID:"y-axis-1"}]};return r=Object(S.jsx)(q.a,{data:b,type:"line",options:{scales:{yAxes:[{type:"linear",display:!0,position:"right",id:"y-axis-1"}]}}}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(s.LMR,{className:"px-3 py-2 bg-white",left:"\u5386\u53f2\u8d70\u52bf"}),Object(S.jsx)("div",{className:"px-3",style:{width:"95%"},children:r})]})})),e}return Object(r.a)(n,[{key:"open",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return Object(S.jsx)(this.page,{})}}]),n}(s.VPage),ve=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).items=L.observable.array([],{deep:!0}),e.day=void 0,e.lastItem=void 0,e}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==(n=t)?(this.day=n.day,void 0!==n.priceDay?this.lastItem={day:n.priceDay,avg20:n.avg20,avg50:n.avg50,avg100:n.avg100}:this.lastItem=void 0):(this.day=void 0,this.lastItem=void 0),e.next=4,this.load();case 4:this.openVPage(me);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cApp.miNet.t_toppredictavg$query(this.day);case 2:if(n=e.sent,this.items.clear(),Array.isArray(n)){e.next=6;break}return e.abrupt("return");case 6:(t=this.items).push.apply(t,Object(C.a)(n)),void 0!==this.lastItem&&(r=Object(be.a)({},this.lastItem),this.items.push(r));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(o),je=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderAccount=function(e,t){function n(e,t){return Object(S.jsxs)("span",{className:"mr-3",children:[Object(S.jsxs)("small",{className:"text-muted",children:[e,": "]}),null!==t&&void 0!==t?t:0]})}var r=e.name,a=e.mi,i=e.market,c=e.count,o=Object(S.jsx)("div",{className:"px-2 d-flex align-items-center",children:Object(S.jsx)(s.FA,{className:"align-",name:"angle-right"})});return Object(S.jsx)(s.LMR,{right:o,children:Object(S.jsxs)("div",{className:"px-3 py-2 bg-white d-block",children:[Object(S.jsx)("div",{children:r}),Object(S.jsxs)("div",{className:"mt-2",children:[Object(S.jsxs)("span",{className:"mr-3 small",children:["\u5171",null!==c&&void 0!==c?c:0,"\u53ea"]}),n("\u603b\u7c73\u503c",a),n("\u603b\u5e02\u503c",i)]})]})})},e.onClickAccount=function(t){e.controller.showAccount(t)},e}return Object(r.a)(n,[{key:"header",value:function(){return Object(S.jsxs)("span",{className:"ml-3",children:["\u6301\u4ed3\u7ec4\u5408 ",Object(S.jsx)("small",{className:"text-muted",children:"\u6b63\u5728\u8bbe\u8ba1\u5b9e\u73b0\u4e2d..."})]})}},{key:"content",value:function(){return Object(S.jsx)("div",{children:Object(S.jsx)(s.List,{items:this.controller.accounts,item:{render:this.renderAccount,onClick:this.onClickAccount}})})}}]),n}(s.VPage),ge=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"header",value:function(){return this.controller.account.name}},{key:"content",value:function(){function e(e,t){return Object(S.jsxs)("span",{className:"mr-3",children:[Object(S.jsxs)("small",{className:"text-muted",children:[e,": "]}),null!==t&&void 0!==t?t:0]})}var t=this.controller.account,n=t.no,r=t.name,a=t.mi,i=t.market,c=t.count;return Object(S.jsxs)("div",{className:"mt-3 px-3 py-2 bg-white d-block",children:[Object(S.jsx)(s.LMR,{right:Object(S.jsxs)("small",{className:"text-muted",children:["\u7ec4\u5408\u7f16\u53f7: ",n]}),children:r}),Object(S.jsxs)("div",{className:"mt-2",children:[Object(S.jsxs)("span",{className:"mr-3 small",children:["\u5171",null!==c&&void 0!==c?c:0,"\u53ea"]}),e("\u603b\u7c73\u503c",a),e("\u603b\u5e02\u503c",i)]})]})}}]),n}(s.VPage),xe=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).accounts=void 0,r.account=void 0,r.tab=function(){return r.renderView(je)},r.load=Object(d.a)(p.a.mark((function e(){var t,n,a,i,c,s,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.uqs.BruceYuMi,n=t.Account,a=t.UserAccount,i={ID:n,IX:a,id:r.user.id},e.next=5,t.IDinIX(i);case 5:if(0!==(c=e.sent).length){e.next=16;break}return e.next=9,t.IDNO({ID:n});case 9:return s=e.sent,e.next=12,t.IDActs({account:[{id:void 0,no:s,name:"\u6211\u7684\u6301\u4ed3\u7ec4\u5408"}]});case 12:return e.sent,e.next=15,t.IDinIX(i);case 15:c=e.sent;case 16:return o={IDX:t.AccountValue,id:c.map((function(e){return e.id}))},e.next=19,t.ID(o);case 19:u=e.sent,r.accounts=c,r.accounts.forEach((function(e){var t=e.id,n=u.find((function(e){return e.id===t}));n&&Object.assign(e,n)}));case 22:case"end":return e.stop()}}),e)}))),r.showAccount=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.account=t,r.openVPage(ge);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(L.makeObservable)(Object(O.a)(r),{accounts:L.observable}),r}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(o),ye=n(16),Oe=n(22),ke=n.n(Oe);var we=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.hostUrl=void 0,this.apiToken=void 0,this.ui=void 0,this.timeout=void 0,this.startWait=function(){void 0!==i.ui&&i.ui.startWait()},this.endWait=function(e,t){void 0!==i.ui&&i.ui.endWait(),void 0!==t&&t("\u8bbf\u95eewebapi\u8d85\u65f6 "+e)},this.showError=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i.ui){e.next=3;break}return e.next=3,i.ui.showError(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.hostUrl=t,this.apiToken=n,this.ui=r,this.timeout=!0===ye.a.isDevelopment?5e5:2e4}return Object(r.a)(e,[{key:"used",value:function(){this.post("",{})}},{key:"get",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a,i,c,s,o,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=u.length>1&&void 0!==u[1]?u[1]:void 0)){e.next=25;break}if(!((r=Object.keys(n)).length>0)){e.next=25;break}a="?",i=Object(V.a)(r),e.prev=6,i.s();case 8:if((c=i.n()).done){e.next=17;break}if(s=c.value,void 0!==n[s]){e.next=13;break}return e.abrupt("continue",15);case 13:t+=a+s+"="+n[s],a="&";case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:return(o=this.buildOptions()).method="GET",e.next=29,this.innerFetch(t,o);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,this,[[6,19,22,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.buildOptions()).method="POST",r.body=JSON.stringify(n),e.next=5,this.innerFetch(t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.buildOptions()).method="PUT",r.body=JSON.stringify(n),e.next=5,this.innerFetch(t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.buildOptions()).method="DELETE",r.body=JSON.stringify(n),e.next=5,this.innerFetch(t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(t,n,r,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(d.a)(p.a.mark((function e(t,n,r,a){var i,c,o,u,l,f,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){return{channel:i,url:c,options:n,resolve:r,reject:a,error:e}},i=this,this.startWait(),c=t,e.prev=4,console.log("%s %s",n.method,c),u=setTimeout((function(){return i.endWait(t,a)}),this.timeout),e.next=9,fetch(encodeURI(c),n);case 9:if(!1!==(l=e.sent).ok){e.next=15;break}throw clearTimeout(u),i.endWait(),console.log("call error %s",l.statusText),l.statusText;case 15:if(!((f=l.headers.get("content-type"))&&f.indexOf("json")>=0)){e.next=20;break}return e.abrupt("return",l.json().then(function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(u),i.endWait(),!0!==t.ok){e.next=4;break}return e.abrupt("return",r(t.res));case 4:if(void 0!==t.error){e.next=9;break}return e.next=7,i.showError(o("not valid tonva json"));case 7:e.next=12;break;case 9:return e.next=11,i.showError(o(t.error));case 11:a(t.error);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.showError(o(t.message));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:return e.next=22,l.text();case 22:h=e.sent,clearTimeout(u),i.endWait(),r(h);case 26:e.next=36;break;case 28:if(e.prev=28,e.t0=e.catch(4),"string"!==typeof e.t0){e.next=34;break}if(!0!==e.t0.toLowerCase().startsWith("unauthorized")){e.next=34;break}return s.nav.logout(),e.abrupt("return");case 34:return e.next=36,this.showError(o(e.t0.message));case 36:case 37:case"end":return e.stop()}}),e,this,[[4,28]])})));return function(t,n,r,a){return e.apply(this,arguments)}}())},{key:"innerFetch",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.hostUrl+t,e.next=3,new Promise(function(){var e=Object(d.a)(p.a.mark((function e(t,i){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetch(r,n,t,i);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"callFetch",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.buildOptions()).method=n,a.body=r,e.next=5,new Promise(function(){var e=Object(d.a)(p.a.mark((function e(n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetch(t,a,n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"buildOptions",value:function(){var e=s.nav.language,t=s.nav.culture,n=new Headers;n.append("Content-Type","application/json;charset=UTF-8");var r=e;return t&&(r+="-"+t),n.append("Accept-Language",r),this.apiToken&&n.append("Authorization",this.apiToken),{headers:n}}}]),e}(),Ne=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"startWait",value:function(){s.nav.startWait()}},{key:"endWait",value:function(){s.nav.endWait()}},{key:"showError",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.nav.endWait(),e.next=3,s.nav.onError(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var Se={},Ae={},Te=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,c,s){var o;return Object(a.a)(this,n),(o=t.call(this,r,s)).apiName=void 0,o.url=void 0,o.showWaiting=s,o.apiName=i,o.token=c,o.url=e,o}return Object(r.a)(n,[{key:"getHttpChannel",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.showWaiting||void 0===this.showWaiting?(t=Se,n=new Ne):t=Ae,void 0===(r=t[this.apiName])){e.next=4;break}return e.abrupt("return",r);case 4:return r=new we(this.url,this.token,n),e.abrupt("return",t[this.apiName]=r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(function(){function e(t,n){Object(a.a)(this,e),this.token=void 0,this.path=void 0,this.showWaiting=void 0,this.path=t||"",this.showWaiting=n}return Object(r.a)(e,[{key:"call",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return a=e.sent,e.next=5,a.callFetch(t,n,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:void 0,e.next=3,this.getHttpChannel();case 3:return r=e.sent,e.next=6,r.get(this.path+t,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return r=e.sent,e.next=5,r.post(this.path+t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return r=e.sent,e.next=5,r.put(this.path+t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return r=e.sent,e.next=5,r.delete(this.path+t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),Ce=function(){function e(t,n,r,i,c){Object(a.a)(this,e),this.channel=void 0,this.channel=new Te(t,n,r,i,c)}return Object(r.a)(e,[{key:"call",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={call:t,params:n},e.next=3,this.channel.post("sql/call",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={call:t,params:n},e.next=3,this.channel.post("sql/call",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"page",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n,r,a){var i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=typeof n,e.next="undefined"===e.t0?3:5;break;case 3:return i=[],e.abrupt("break",7);case 5:return i=ke.a.clone(n),e.abrupt("break",7);case 7:return i.push(r),i.push(a),c={call:t,params:i},e.next=12,this.channel.post("sql/call",c);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"process",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={proc:t,params:n},e.next=3,this.channel.post("sql/query",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ie=function(){function e(t){Object(a.a)(this,e),this.miApi=void 0,this.user=void 0;var n=ye.a.miApiHost;document.baseURI.indexOf("localmiserver")>0&&(n=ye.a.miApiHostDebug),this.user=t,this.miApi=new Ce(n,"fsjs/","miapi",t.token,!1)}return Object(r.a)(e,[{key:"userId",get:function(){return this.user.id}},{key:"process",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.process(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"q_marketpe",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("q_marketpe",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"t_toppredictavg$query",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_toppredictavg$query",[t]);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"q_stocks$page",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.page("q_stocks$page",t,n,r);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"q_stockallinfo",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.miApi.query("q_stockallinfo",[t,n]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"t_tagstock$query",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.miApi.query("t_tagstock$query",[this.user.id,t,n]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"t_tag$all",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("t_tag$all",[this.user.id]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_tag$save",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_tag$save",[this.user.id,void 0,t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"t_tagstock$add",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_tagstock$add",[this.user.id,t,n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"t_tagstock$del",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_tagstock$del",[this.user.id,t,n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"t_stockwarning$all",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_stockwarning$all",[this.user.id]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_stockwarning$add",value:function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_stockwarning$add",[this.user.id,t,n,r]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"t_usersettings$save",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_usersettings$save",[this.user.id,"config",t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"t_usersettings$query",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("t_usersettings$query",[this.user.id,"config"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_allaccounts",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("t_allaccounts",[this.user.id]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"q_getlasttradeday",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("q_getlasttradeday",[]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fe=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"header",value:function(){return"\u81ea\u9009\u7ec4\u7ba1\u7406"}},{key:"content",value:function(){return Object(S.jsx)("div",{className:"p-3",children:"\u81ea\u9009\u7ec4\u7ba1\u7406"})}}]),n}(s.VPage),Pe=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(Fe);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(o),De=[10,3,3,3,3,3,5,5,5,5,5,5,5,5,10,10,10,10,15,15,15,30,30,60],Me=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).cHome=void 0,e.cBug=void 0,e.cMe=void 0,e.cUI=void 0,e.cHolding=void 0,e.cExporer=void 0,e.cWarning=void 0,e.miNet=void 0,e.store=void 0,e.timer=void 0,e.tick=0,e.gapIndex=0,e.callTick=Object(d.a)(p.a.mark((function t(){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.user){t.next=3;break}return t.abrupt("return");case 3:if(++e.tick,!(e.tick<De[e.gapIndex])){t.next=6;break}return t.abrupt("return");case 6:return e.tick=0,e.gapIndex<De.length-1&&++e.gapIndex,t.next=10,e.uqs.BzHelloTonva.$poked.query(void 0,!1);case 10:if(n=t.sent,void 0!==(r=n.ret[0])){t.next=14;break}return t.abrupt("return");case 14:if(r.poke){t.next=16;break}return t.abrupt("return");case 16:e.gapIndex=1,t.next=21;break;case 19:t.prev=19,t.t0=t.catch(0);case 21:case"end":return t.stop()}}),t,null,[[0,19]])}))),e}return Object(r.a)(n,[{key:"internalStart",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setRes(f),t=this.uqs,m.setUI(t.BzHelloTonva),v.setUI(t.BruceYuMi),this.miNet=new Ie(this.user),this.store=new se.Store(this.miNet),e.next=6,this.store.load();case 6:this.cHome=this.newC(W),this.cExporer=this.newC(ue),this.cHolding=this.newC(xe),this.cMe=this.newC(ee),this.cWarning=this.newC(he),this.openVPage(b,void 0,this.dispose);case 12:case"end":return e.stop()}var t}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openPredictAVG",value:function(e){this.newC(ve).start(e)}},{key:"showGroupsManage",value:function(){this.newC(Pe).start()}},{key:"onDispose",value:function(){clearInterval(this.timer),this.timer=void 0}}]),n}(u),Ke=function(){s.nav.setSettings(H);var e=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.start)(Me,H,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(s.NavView,{onLogined:e})}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),a=n.n(r),i=n(2),c=n(6),s=n(7),o=n(9),u=n(8),l=n(3),p=n(42),d=n(0),f=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).onClickStock=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnStock(n);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderStock=function(e,t){var n=e.name,r=e.code;return Object(d.jsxs)(l.LMR,{className:"px-3 py-2 ",children:[Object(d.jsx)("div",{className:"font-weight-bold"}),Object(d.jsx)("div",{children:n+" "+r})]})},e}return Object(s.a)(n,[{key:"header",value:function(){return"\u9009\u62e9\u80a1\u7968"}},{key:"headerClassName",get:function(){return"bg-primary"}},{key:"onPageScrollBottom",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.pageItems.more();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=this.controller,t=e.pageItems,n=e.searchByKey,r=Object(d.jsx)("div",{className:"p-3 small text-muted",children:"\u65e0\u7ed3\u679c"});return Object(d.jsxs)("div",{children:[Object(d.jsx)(l.SearchBox,{className:"px-1 w-100  mt-2 mr-2",size:"md",allowEmptySearch:!0,onSearch:n,placeholder:"\u641c\u7d22\u80a1\u7968"}),Object(d.jsx)(l.List,{before:"",none:r,items:t,item:{render:this.renderStock,onClick:this.onClickStock}})]})}}]),n}(l.VPage),h=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,!0)).miNet=void 0,r.miNet=e,r.firstSize=r.pageSize=30,r}return Object(s.a)(n,[{key:"loadResults",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),i=["%"+t.key+"%"],e.prev=2,e.next=5,this.miNet.q_stocks$page(i,n,r);case 5:return c=e.sent,e.abrupt("return",{$page:c});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),n}(l.PageItems),b=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).pageItems=void 0,e.searchByKey=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pageItems.first({key:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.returnStock=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.returnCall(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPage=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pageItems.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(n,[{key:"internalStart",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pageItems=new h(this.cApp.miNet),this.openVPage(f);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(p.b)},63:function(e,t,n){"use strict";n.d(t,"setUI",(function(){return h}));var r=n(68),a=n(167),i=n(168),c=n(169),s=n(170),o=n(171),u=n(172),l=n(173),p=n(174),d=n(175),f=n(176);n(146);function h(e){Object.assign(e.Customer,r),Object.assign(e.OrderMaster,a),Object.assign(e.OrderDetail,i),Object.assign(e.Tag,c),Object.assign(e.Staff,s),Object.assign(e.$Piecewise,o),Object.assign(e.$PiecewiseDetail,u),Object.assign(e.Achieve,l),Object.assign(e.Hours,p),Object.assign(e.CustomerTag,d),Object.assign(e.UserStaff,f)}},64:function(e,t,n){"use strict";n.d(t,"setUI",(function(){return d}));var r=n(177),a=n(178),i=n(179),c=n(180),s=n(181),o=n(182),u=n(183),l=n(184),p=n(185);n(147);function d(e){Object.assign(e.Account,r),Object.assign(e.Holding,a),Object.assign(e.Transaction,i),Object.assign(e.Stock,c),Object.assign(e.Market,s),Object.assign(e.Portfolio,o),Object.assign(e.StockValue,u),Object.assign(e.AccountValue,l),Object.assign(e.UserAccount,p)}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,a,i=n(20),c=n(1),s=n.n(c),o=n(2),u=n(18),l=n(6),p=n(7),d=n(13),f=n(9),h=n(8),b=n(14),m=(n(40),n(4)),v=n(3),j=n(5),g=n(11),x=n(34),y=n.n(x),O=n(10),k=n(26),w=n(0),N=(r=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,c=new Array(r),p=0;p<r;p++)c[p]=arguments[p];return(e=t.call.apply(t,[this].concat(c))).input=void 0,e.key=void 0,Object(u.a)(e,"ttmLimit",a,Object(d.a)(e)),e.checkLimitShow=function(t){var n=t.target.checked;e.ttmLimit=n},e.checkShowLater=function(t){var n=t.target.checked;e.controller.loadHistoryData(n)},e.checkDefaultTag=function(t){var n=t.target.checked;e.controller.onClickDefaultTag(n)},e.page=Object(g.observer)((function(){var t=e.controller,n=t.openMetaView,r=t.baseItem,a=t.onSelectTag,i=t.stockTags,c=t.isLogined,s=r.name,o=r.code,u=r.day;w.Fragment;var l=i&&Object(w.jsx)("button",{className:"btn btn-sm mr-2 btn-outline-success bg-light align-self-center",onClick:a,children:0===i.length?"\u52a0\u81ea\u9009":"\u8bbe\u5206\u7ec4"}),p=s+" "+o;void 0!==u&&(p+=" - "+u);var d=Object(w.jsx)("div",{onClick:function(){return e.controller.showSelectStock(u)},children:p});return Object(w.jsx)(v.Page,{header:d,right:l,headerClassName:"bg-primary",children:m.createElement(e.pageContent)})})),e.pageContent=Object(g.observer)((function(){return Object(w.jsxs)(w.Fragment,{children:[e.dateHead(),m.createElement(e.baseInfo),m.createElement(e.historyChart),m.createElement(e.predictInfo),m.createElement(e.predictSeasonEarning),m.createElement(e.seasonEarning),m.createElement(e.capitalEarning),m.createElement(e.bonus)]})})),e.onChange=function(t){var n=t.target.value,r=Number(n);!0!==isNaN(r)&&Number.isInteger(r)?(e.key=t.target.value,void 0!==e.key&&(e.key=e.key.trim(),""===e.key&&(e.key=void 0))):e.input&&(e.input.value=e.key)},e.onSubmit=function(){var t=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),void 0===e.key&&(e.key=""),r=Number(e.key),isNaN(r)||!Number.isInteger(r)){t.next=7;break}if(!(0===r||r>=20000101&&r<30000101)){t.next=7;break}return t.next=7,e.controller.changeDay(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.dateHead=function(){var t=e.controller.baseItem.day,n=void 0===t||isNaN(t)?"":t.toString();return Object(w.jsx)("div",{className:"px-3 py-2",children:Object(w.jsx)("form",{className:"w-100",onSubmit:e.onSubmit,children:Object(w.jsxs)("div",{className:"input-group input-group-sm",children:[Object(w.jsx)("label",{className:"input-group-addon mr-2 mb-0 align-self-center",children:"\u65e5\u671f"}),Object(w.jsx)("input",{ref:function(t){return e.input=t},onChange:e.onChange,type:"text",name:"key",defaultValue:n,className:"form-control border-primary px-2",placeholder:"yyyymmdd",maxLength:8}),Object(w.jsx)("div",{className:"input-group-append",children:Object(w.jsxs)("button",{className:"btn btn-primary px-2",type:"submit",children:[Object(w.jsx)("i",{className:"fa fa-search"}),Object(w.jsx)("i",{className:"fa"}),"\u8df3\u8f6c"]})})]})})})},e.baseInfo=Object(g.observer)((function(){var t=e.controller,n=t.baseItem,r=t.isMySelect,a=(n.id,n.name,n.code,n.symbol),i=n.pe,c=n.roe,s=n.price,o=(n.order,n.divyield),u=(n.e,n.capital,n.bonus,Object(w.jsxs)("label",{className:"align-self-center px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"checkDefaultList",defaultChecked:r,onChange:e.checkDefaultTag}),"\u81ea\u9009\u80a1"]}));return Object(w.jsxs)(v.LMR,{className:"bg-white",right:u,children:[" ",Object(w.jsx)("div",{className:"px-3 py-2",children:Object(w.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("TTM"),O.a.numberToFixString(i)]}),Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("\u80a1\u606f\u7387"),O.a.percentToFixString(o)]}),Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("ROE"),O.a.percentToFixString(c)]}),Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("\u4ef7\u683c"),O.a.numberToFixString(s)]}),Object(w.jsx)("a",{className:"px-3 text-info",href:"https://finance.sina.com.cn/realstock/company/".concat(a,"/nc.shtml"),target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.stopPropagation()},children:"\u65b0\u6d6a\u8d22\u7ecf"})]})})]})})),e.onClickName=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.symbol,r="http://finance.sina.com.cn/realstock/company/".concat(n,"/nc.shtml"),window.open(r,"").opener=void 0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.historyChart=Object(g.observer)((function(){var t=e.controller,n=t.historyData,r=t.baseItem;if(void 0===n)return Object(w.jsx)(w.Fragment,{});var a,c=w.Fragment,s=[],o=[],u=[],l=Object(i.a)(n);try{for(l.s();!(a=l.n()).done;){var p=a.value,d=p.day,f=p.price,h=p.ttm;s.push(d),o.push(O.a.numberToPrecision(f,4)),h<=0?u.push(void 0):e.ttmLimit&&h>=35?u.push(35):u.push(O.a.numberToPrecision(h,4))}}catch(j){l.e(j)}finally{l.f()}var b={labels:s,datasets:[{label:"\u4ef7\u683c",data:o,borderColor:"blue",backgroundColor:"skyBlue",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"TTM",data:u,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1,yAxisID:"y-axis-2"}]};c=Object(w.jsx)(y.a,{data:b,type:"line",options:{scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:!1}}]}}});var m=Object(w.jsx)(w.Fragment,{});return m=void 0!==r.day?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{className:"px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"showLater",defaultChecked:!1,onChange:e.checkShowLater}),"\u663e\u793a\u540e\u9762\u6570\u636e"]}),Object(w.jsxs)("label",{className:"px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"selectType",defaultChecked:e.ttmLimit,onChange:e.checkLimitShow}),"\u9650\u5236TTM\u663e\u793a\u8303\u56f4"]})]}):Object(w.jsxs)("label",{className:"px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"selectType",defaultChecked:e.ttmLimit,onChange:e.checkLimitShow}),"\u9650\u5236TTM\u663e\u793a\u8303\u56f4"]}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(v.LMR,{className:"px-3 py-2 bg-white",left:"\u5386\u53f2\u8d70\u52bf",right:m}),Object(w.jsx)("div",{className:"px-3",style:{width:"95%"},children:c})]})})),e.predictInfo=Object(g.observer)((function(){var t=e.controller,n=t.predictData,r=t.ypredict;if(void 0===n)return Object(w.jsx)(w.Fragment,{});var a=n.e,i=n.b,c=n.r2,s=n.epre,o=n.l,u=n.lr2,l=n.lpre,p=Object(w.jsx)(w.Fragment,{});if(5===r.length){var d=new k.a(r),f={labels:["0","1","2","3","4"],datasets:[{label:"\u539f\u503c",data:r.map((function(e){return O.a.numberToPrecision(e)})),borderColor:"black",backgroundColor:"skyBlue",showLine:!1,pointStyle:"crossRot",borderWidth:1,pointRadius:5,fill:!1}]};if(!isNaN(d.B)&&!isNaN(d.A)){for(var h=[],b=0;b<5;++b)h.push(O.a.numberToPrecision(d.predict(b),4));f.datasets.push({label:"\u6307\u6570\u56de\u5f52",data:h,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1})}var m=new k.b(r);if(!isNaN(m.slope)&&!isNaN(m.intercept)){for(var v=[],j=0;j<5;++j)v.push(O.a.numberToPrecision(m.predict(j),4));f.datasets.push({label:"\u7ebf\u6027\u56de\u5f52",data:v,borderColor:"blue",backgroundColor:"pink",borderWidth:1,fill:!1})}p=Object(w.jsx)(y.a,{data:f,type:"line"})}var g=e.predictChartFullInfo(),x=e.predictChartROE();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-2 bg-white",children:"\u6307\u6570\u56de\u5f52\u9884\u6d4b"}),Object(w.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e"),O.a.numberToString(a,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("\u6307\u6570b"),O.a.numberToString(i,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("r2"),O.a.numberToString(c,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e\u9884\u6d4b"),O.a.numberToString(s)]})]}),Object(w.jsx)("div",{className:"px-3 py-2 bg-white",children:"\u7ebf\u6027\u56de\u5f52\u9884\u6d4b"}),Object(w.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e"),O.a.numberToString(a,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("\u589e\u957f\u7387"),O.a.numberToString(o,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("r2"),O.a.numberToString(u,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e\u9884\u6d4b"),O.a.numberToString(l)]})]}),Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsx)("div",{className:"px-2",style:{width:"50%"},children:p}),Object(w.jsx)("div",{className:"px-2",style:{width:"50%"},children:g})]}),Object(w.jsx)("div",{className:"d-flex",children:Object(w.jsx)("div",{className:"px-2",style:{width:"50%"},children:x})})]})})),e.predictChartFullInfo=function(){var t=e.controller.predictSeasonDataFull,n=t.length;if(n<=0)return Object(w.jsx)(w.Fragment,{});for(var r=[],a=[],i=n-1;i>=0;--i){var c=t[i];void 0!==c.esum&&(r.push(O.a.SeasonnoToYearMonth(c.season)),a.push(c.esum))}var s=new k.a(a),o={labels:r,datasets:[{label:"\u539f\u503c",data:a.map((function(e){return O.a.numberToPrecision(e)})),borderColor:"black",backgroundColor:"skyBlue",showLine:!1,pointStyle:"crossRot",borderWidth:1,pointRadius:5,fill:!1}]};if(!isNaN(s.B)&&!isNaN(s.A)){for(var u=[],l=0;l<n;++l)u.push(O.a.numberToPrecision(s.predict(l),4));o.datasets.push({label:"\u6307\u6570 R2:"+O.a.numberToString(s.r2,4),data:u,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1})}var p=new k.b(a);if(!isNaN(p.slope)&&!isNaN(p.intercept)){for(var d=[],f=0;f<n;++f)d.push(O.a.numberToPrecision(p.predict(f),4));o.datasets.push({label:"\u7ebf\u6027 R2:"+O.a.numberToString(p.r2,4),data:d,borderColor:"blue",backgroundColor:"pink",borderWidth:1,fill:!1})}return Object(w.jsx)(y.a,{data:o,type:"line"})},e.predictChartROE=function(){var t=e.controller.predictSeasonDataFull,n=t.length;if(n<=0)return Object(w.jsx)(w.Fragment,{});for(var r=[],a=[],i=n-1;i>=0;--i){var c=t[i];void 0!==c.esum&&(r.push(O.a.SeasonnoToYearMonth(c.season)),a.push(c.esumorg/c.corg))}var s={labels:r,datasets:[{label:"ROE\u539f\u503c",data:a.map((function(e){return O.a.numberToPrecision(e)})),borderColor:"black",backgroundColor:"skyBlue",showLine:!1,pointStyle:"crossRot",borderWidth:1,pointRadius:5,fill:!1}]},o=new k.b(a);if(!isNaN(o.slope)&&!isNaN(o.intercept)){for(var u=[],l=0;l<n;++l)u.push(Number.parseFloat(o.predict(l).toPrecision(4)));s.datasets.push({label:"\u7ebf\u6027 R2:"+O.a.numberToString(o.r2,4),data:u,borderColor:"blue",backgroundColor:"pink",borderWidth:1,fill:!1})}return Object(w.jsx)(y.a,{data:s,type:"line"})},e.predictSeasonEarning=Object(g.observer)((function(){var t=e.controller.predictSeasonData,n=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c6",children:"\u5e74\u6708"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672c"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"ROE"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672co"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76cao"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76cao"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u80a1\u672c\u6536\u76ca-\u7528\u4e8e\u56de\u5f52\u8ba1\u7b97"}),Object(w.jsx)(v.List,{header:n,loading:"...",items:t,item:{render:function(e){var t=e.season,n=e.c,r=e.e,a=e.esum,i=e.corg,c=e.eorg,s=e.esumorg,o=O.a.SeasonnoToYearMonth(t);return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c6",children:o.toString()}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(n)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(r)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(a)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.percentToFixString(a/n)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(i)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(c)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(s)})]})}}})]})})),e.seasonEarning=Object(g.observer)((function(){var t=e.controller.seasonData,n=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c6",children:"\u5e74\u6708"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672c"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"ROE"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672co"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76cao"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76cao"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u5b63\u5ea6\u80a1\u672c\u6536\u76ca"}),Object(w.jsx)(v.List,{header:n,loading:"...",items:t,item:{render:function(e){var t=e.season,n=e.c,r=e.e,a=e.esum,i=e.corg,c=e.eorg,s=e.esumorg,o=O.a.SeasonnoToYearMonth(t);return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c6",children:o.toString()}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(n)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(r)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(a)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.percentToFixString(a/n)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(i)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(c)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(s)})]})}}})]})})),e.capitalEarning=Object(g.observer)((function(){var t=e.controller.capitalearning,n=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c6",children:"\u5e74"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672c"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"ROE"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u80a1\u672c\u6536\u76ca"}),Object(w.jsx)(v.List,{header:n,loading:"...",items:t,item:{render:function(e){var t=e.capital,n=e.earning;return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c6",children:e.year}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",t.toFixed(2)]}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",n.toFixed(2)]}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",(n/t*100).toFixed(1),"%"]})]})}}})]})})),e.bonus=Object(g.observer)((function(){var t=e.controller.bonus,n=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c8",children:"\u65e5\u671f"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5206\u7ea2"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u5206\u7ea2"}),Object(w.jsx)(v.List,{header:n,loading:"...",items:t,item:{render:function(e){return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c8",children:e.day}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",e.bonus.toFixed(2)]})]})}}})]})})),e}return Object(p.a)(n,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return this.page()}}]),n}(v.VPage),a=Object(b.a)(r.prototype,"ttmLimit",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r)},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(23),a=n(20),i=n(1),c=n.n(i),s=n(2),o=n(6),u=n(7),l=n(16),p=n(5),d=n(67),f=function(){function e(t){Object(o.a)(this,e),this.miNet=void 0,this.groups=void 0,this.defaultGroup=void 0,this.blackGroup=void 0,this.miNet=t,this.groups=p.observable.array([],{deep:!0})}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.defaultGroup=this.groupFromName(l.c),this.blackGroup=this.groupFromName(l.b),e.next=4,Promise.all([null===(t=this.defaultGroup)||void 0===t?void 0:t.loadItems(),null===(n=this.blackGroup)||void 0===n?void 0:n.loadItems()]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"groupFromName",value:function(e){return this.groups.find((function(t){return t.name===e}))}},{key:"groupFromId",value:function(e){return this.groups.find((function(t){return t.id===e}))}},{key:"group0",get:function(){return this.groups[0]}},{key:"getSelected",value:function(e){return this.groups.filter((function(t){return e.findIndex((function(e){return e.tag===t.id}))>=0}))}},{key:"add",value:function(e){this.groups.push(e)}},{key:"exists",value:function(e,t){return this.groups.findIndex((function(n){return n.id===e&&n.name===t}))>=0}},{key:"isMySelect",value:function(e){var t,n=Object(a.a)(this.groups);try{for(n.s();!(t=n.n()).done;){if(!0===t.value.exists(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isMyBlack",value:function(e){return!!this.blackGroup&&this.blackGroup.exists(e)}},{key:"load",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,n,a,i,s=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_tag$all();case 2:return t=e.sent,n=t,e.next=6,this.checkDefaultTags(n);case 6:if(!e.sent){e.next=12;break}return e.next=10,this.miNet.t_tag$all();case 10:t=e.sent,n=t;case 12:a=[],(i=n.findIndex((function(e){return e.name===l.c})))>=0&&(a.push(n[i]),n.splice(i,1)),(i=n.findIndex((function(e){return e.name===l.b})))>=0&&(a.push(n[i]),n.splice(i,1)),a.push.apply(a,Object(r.a)(n)),this.groups.replace(a.map((function(e){return new d.a(e.name,e.id,s.miNet)})));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkDefaultTags",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,void 0!==t){e.next=9;break}return e.next=4,this.miNet.t_tag$save(l.c);case 4:return e.next=6,this.miNet.t_tag$save(l.b);case 6:n=!0,e.next=19;break;case 9:if(!(t.findIndex((function(e){return e.name===l.c}))<0)){e.next=14;break}return e.next=13,this.miNet.t_tag$save(l.c);case 13:n=!0;case 14:if(!(t.findIndex((function(e){return e.name===l.b}))<0)){e.next=19;break}return e.next=18,this.miNet.t_tag$save(l.b);case 18:n=!0;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),a=n.n(r),i=n(23),c=n(20),s=n(2),o=n(6),u=n(7),l=n(5),p=n(26),d=n(27),f=n(41),h=function(){function e(t,n,r){Object(o.a)(this,e),this.miNet=void 0,this.sortType=void 0,this.id=void 0,this.name=void 0,this.stocks=void 0,this.name=t,this.id=n,this.miNet=r,this.stocks=l.observable.array([],{deep:!0})}return Object(u.a)(e,[{key:"loadItems",value:function(){var e=Object(s.a)(a.a.mark((function e(){var t,n,r,s,o,u,h,b,m=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"taguser",t={name:"taguser",pageStart:0,pageSize:1e3,user:this.miNet.userId,tag:this.id,yearlen:1},e.next=4,this.miNet.process(t,[]);case 4:if(n=e.sent,!1!==Array.isArray(n)){e.next=7;break}return e.abrupt("return");case 7:r=n,s=Object(c.a)(r);try{for(s.s();!(o=s.n()).done;)u=o.value,h=JSON.parse(u.data),u.dataArr=h,b=new p.b(h),u.ep=(b.predict(4)+u.e)/2,u.e3=b.predict(7),u.v=d.a.calculateVN(b.slopeR,u.ep,u.divyield*u.price,u.exprice),u.predictpe=u.price/u.e3}catch(a){s.e(a)}finally{s.f()}Object(f.a)(void 0,r),Object(l.runInAction)((function(){var e;m.stocks.clear(),(e=m.stocks).push.apply(e,Object(i.a)(r))}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sort",value:function(e){this.sortType=e,Object(f.a)(e,this.stocks)}},{key:"addStock",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_tagstock$add(this.id,t.id);case 2:if(!((n=this.stocks.findIndex((function(e){return e.id===t.id})))>=0)){e.next=8;break}r=this.stocks.splice(n,1),this.stocks.unshift(r[0]),e.next=11;break;case 8:return e.next=10,this.loadItems();case 10:Object(f.a)(this.sortType,this.stocks);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStock",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_tagstock$del(this.id,t.id);case 2:(n=this.stocks.findIndex((function(e){return e.id===t.id})))>=0&&this.stocks.splice(n,1);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exists",value:function(e){var t,n=Object(c.a)(this.stocks);try{for(n.s();!(t=n.n()).done;){if(t.value.id===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}}]),e}()},68:function(e,t,n){"use strict";n.r(t),n.d(t,"fieldArr",(function(){return i})),n.d(t,"ui",(function(){return c})),n.d(t,"res",(function(){return s})),n.d(t,"render",(function(){return o}));var r=n(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"},firstName:{name:"firstName",type:"string",isKey:!1,widget:"string",label:"\u540d\u5b57"},lastName:{name:"lastName",type:"string",isKey:!1,widget:"string",label:"LastName"}},i=[a.no,a.firstName,a.lastName],c={label:"Customer",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){var t=e.firstName,n=e.lastName,a=e.no;return Object(r.jsxs)("span",{children:[Object(r.jsx)("small",{className:"d-inline-block w-3c",children:a})," ",Object(r.jsxs)("b",{children:[t," ",n]})]})}},69:function(e,t,n){"use strict";n(148);var r=n(166);n.d(t,"CStockInfo",(function(){return r.a}));n(65)}},[[397,1,2]]]);
//# sourceMappingURL=main.aeda1246.chunk.js.map