(this.webpackJsonpmifen=this.webpackJsonpmifen||[]).push([[0],{10:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(6),a=r(7),i=(r(4),r(0)),c=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"numberToFixString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toFixed(t)}},{key:"number",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toFixed(t)}},{key:"numberToMarketValue",value:function(e){return void 0===e||isNaN(e)?"":Math.round(e/1e4).toString()}},{key:"numberToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toPrecision(t)}},{key:"numberToPrecision",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return void 0===e?void 0:Number.parseFloat(e.toPrecision(t))}},{key:"percentToFixString",value:function(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(2)+"%"}},{key:"percent0",value:function(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(0)+"%"}},{key:"percent1",value:function(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(1)+"%"}},{key:"warningTypeString",value:function(e){switch(e){case"gt":return"\u5927\u4e8e";case"lt":return"\u5c0f\u4e8e";default:return e}}},{key:"predictCutRatio",value:function(e){return 2*e-e*e}},{key:"evaluatePricePrice",value:function(e,t,r,n){var a=1+e,i=a*a,c=i*a;return(t/a+r/i+n/c+n/e/c)/2}},{key:"calculateV",value:function(e,t,r){if(void 0!==r&&!isNaN(r)){var n=0;return void 0!==e&&(e>.25&&(e=.25),n+=100*e),void 0!==t&&(n+=100*t),n/r}}},{key:"calculateVN",value:function(e,t,r,n){if(void 0!==n&&!isNaN(n)&&void 0!==t&&!isNaN(t)){var a=0;return void 0!==e&&t>0&&(e>.25&&(e=.24+Math.pow(100*(e-.24),.6667)/100),a+=(e=(e=1+e)*e*e-1)*t*100),void 0===r||isNaN(r)||(a+=100*r),a/n}}},{key:"calculateZZ3",value:function(e){var t=[void 0,void 0,void 0,void 0];if(void 0===e)return t;if(e.length<5)return t;for(var r=function(e,t){if(!(t<=0||e<=0))return e/t-1},n=0;n<4;++n)t[n]=r(e[n+1],e[n]);return t}},{key:"MonthnoFromDay",value:function(e){return 12*(Math.floor(e/1e4)-1995)+(Math.floor(e%1e4/100)-1)}},{key:"SeasonnoFromDay",value:function(e){var t=Math.floor(e/1e4),r=Math.floor(e%1e4/100)-1;return 4*(t-1995)+Math.floor(r/3)}},{key:"SeasonnoFromYearMonth",value:function(e,t){return 4*(e-1995)+Math.floor((t-1)/3)}},{key:"SeasonnoToYearMonth",value:function(e){return 100*(Math.floor(e/4)+1995)+3*(Math.floor(e%4)+1)}},{key:"SeasonnoToBeginEnd",value:function(e){var t=1e4*(1995+Math.floor(e/4)),r=e%4;return 0===r?{begin:t+101,end:t+331}:1===r?{begin:t+401,end:t+630}:2===r?{begin:t+701,end:t+930}:{begin:t+1001,end:t+1231}}},{key:"CalculatePredictAvg",value:function(e){var t={avg20:void 0,avg50:void 0,avg100:void 0},r=e.length,n=function(t){var n=t;if(n>r&&(n=r),n>=10){for(var a=0,i=3;i<n;++i)a+=e[i].predictpe;return a/(n-3)}};return t.avg20=n(20),t.avg50=n(50),t.avg100=n(100),t}},{key:"CalculateValueAvg",value:function(e){var t={avg20:void 0,avg50:void 0,avg100:void 0,avg:void 0},r=e.length,n=function(t){var n=t;if((0===t||n>r)&&(n=r),n>=10){for(var a=0,i=3;i<n;++i)a+=e[i].v;return a/(n-3)}};return t.avg20=n(20),t.avg50=n(50),t.avg100=n(100),t.avg=n(0),t}}]),e}();c.caption=function(e){return Object(i.jsx)("span",{className:"text-muted small",children:e})}},126:function(e,t){},127:function(e,t){},128:function(e,t){},129:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n,a,i=r(1),c=r.n(i),s=r(2),o=r(18),u=r(6),l=r(7),p=r(14),d=(r(37),r(5)),h=r(16),f=r(52),b=function(){function e(t){Object(u.a)(this,e),this.miNet=void 0,this.accounts=null,this.account=null,Object(d.makeObservable)(this,{accounts:d.observable,account:d.observable}),this.miNet=t}return Object(l.a)(e,[{key:"load",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_allaccounts();case 2:t=e.sent,Array.isArray(t)&&(this.accounts=t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCurrentAccount",value:function(e){return this.account=this.accounts.find((function(t){return t.name===e})),this.account}}]),e}(),v=(n=function(){function e(t){var r=this;Object(u.a)(this,e),this.miNet=void 0,this.stockGroups=void 0,this.accounts=void 0,Object(o.a)(this,"config",a,this),this.setStockSortType=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.config.stockFind.sortType!==t){e.next=2;break}return e.abrupt("return");case 2:return r.config.stockFind.sortType=t,e.next=5,r.saveConfig();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setStockSelectType=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.config.stockFind.selectType!==t){e.next=2;break}return e.abrupt("return");case 2:return r.config.stockFind.selectType=t,e.next=5,r.saveConfig();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setUserSortType=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.config.userStock.sortType!==t){e.next=2;break}return e.abrupt("return");case 2:return r.config.userStock.sortType=t,e.next=5,r.saveConfig();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.selectTag=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r.stockGroups.groupFromName(n)&&(r.config.groupName=n,r.saveConfig());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.selectAccount=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r.accounts.setCurrentAccount(n)&&(r.config.accountName=n,r.saveConfig());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setRegressionConfig=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.config.regression=t,e.next=3,r.saveConfig();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(d.makeObservable)(this,{config:d.observable}),this.miNet=t,this.stockGroups=new f.a(t),this.accounts=new b(t)}return Object(l.a)(e,[{key:"getHomeStockGroup",value:function(){var e=this.config.groupName;return this.stockGroups.groupFromName(e)}},{key:"findStockConfg",get:function(){return this.config.stockFind}},{key:"load",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConfig();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveConfig",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(this.config),e.next=3,this.miNet.t_usersettings$save(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadConfig",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,r,n,a,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.miNet.t_usersettings$query(),this.stockGroups.load(),this.accounts.load()]);case 2:return t=e.sent,e.next=5,this.stockGroups.init();case 5:if(void 0!==(r=t[0])&&void 0!==(n=r)&&n.length>0&&(a=n[0].value,i=JSON.parse(a),this.stockGroups&&(s=i.tagName,(o=this.stockGroups.groupFromName(s))||(o=this.stockGroups.groupFromName(h.c),i.tagName=o?h.c:this.stockGroups.group0),i.groupName=i.tagName),this.config=i),void 0!==this.config.stockFind){e.next=11;break}this.config.stockFind={sortType:"pe"},e.next=20;break;case 11:e.t0=this.config.stockFind.selectType,e.next="all"===e.t0?14:"peroe"===e.t0?15:"pe"===e.t0?16:"dp"===e.t0?17:18;break;case 14:case 15:case 16:case 17:return e.abrupt("break",20);case 18:return this.config.stockFind.selectType="all",e.abrupt("break",20);case 20:void 0===this.config.userStock&&(this.config.userStock={sortType:"tagpe"}),void 0===this.config.regression?this.config.regression={bmin:0,bmax:.5,r2:.7,lmin:.01,lmax:.5,lr2:.7,mcount:2,lr4:3,r210:.6,irate:.04}:(void 0===this.config.regression.r210&&(this.config.regression.r210=.6),void 0===this.config.regression.irate&&(this.config.regression.irate=.04));case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addTagStock",value:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stockGroups.defaultGroup.addStock(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeTagStock",value:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stockGroups.defaultGroup.removeStock(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadExportItems",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var r,n,a,i,s,o,u,l,p,d,h,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.config.regression,n=r.bmin,a=r.bmax,i=r.r2,s=r.lmin,o=r.lmax,u=r.lr2,l=r.mcount,p=r.lr4,d=r.r210,h={name:t,pageStart:0,pageSize:3e3,user:this.miNet.userId,blackID:this.stockGroups.blackGroup.id,bMin:n,bMax:a,r2:i,lMin:s,lMax:o,lr2:u,mcount:l,lr4:p,r210:d},e.next=4,Promise.all([this.miNet.process(h,[]),this.miNet.q_getlasttradeday()]);case 4:return f=e.sent,e.abrupt("return",f);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isMySelect",value:function(e){return this.stockGroups.isMySelect(e)}},{key:"isMyBlack",value:function(e){return this.stockGroups.isMyBlack(e)}}]),e}(),a=Object(p.a)(n.prototype,"config",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{groupName:h.c,stockFind:{sortType:"pe"},userStock:{sortType:"tagpe"},regression:{bmin:0,bmax:.5,r2:.7,lmin:.01,lmax:.5,lr2:.7,mcount:2,lr4:3,r210:.6,irate:.04}}}}),n)},130:function(e,t,r){"use strict";r.d(t,"a",(function(){return K}));var n,a,i,c,s,o,u,l,p,d,h,f,b=r(20),v=r(57),m=r(1),j=r.n(m),x=r(23),g=r(2),y=r(18),O=r(6),k=r(7),w=r(13),N=r(9),S=r(8),T=r(14),C=(r(37),r(5)),A=r(3),I=r(40),F=r(10),P=r(51),D=(r(4),r(17)),M=r(16),E=r(0),V=function(e){Object(N.a)(r,e);var t=Object(S.a)(r);function r(){var e;Object(O.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSelect=function(t,r,n){e.controller.onClickSelectTag(t,r)},e.onEditTag=function(t,r){r.preventDefault(),e.controller.onEditTag(t)},e.renderTag=function(t){var r=Object(E.jsx)("div",{className:"px-3 py-2 cursor-pointer",children:t.name}),n=t.name===M.b||t.name===M.c?"":Object(E.jsx)("div",{className:"px-3 py-2 cursor-pointer",onClick:function(r){return e.onEditTag(t,r)},children:"\u7f16\u8f91"});return Object(E.jsx)(A.LMR,{className:"mx-3 my-2",left:r,right:n})},e.page=Object(D.d)((function(){var t=e.controller.selectedTags,r=e.controller.cApp.store.stockGroups.groups,n=r.length>=10?"":Object(E.jsxs)("div",{className:"px-3 py-2 cursor-pointer",onClick:e.controller.onNewTag,children:[Object(E.jsx)(A.FA,{name:"plus",className:"text-primary"}),"\xa0 \u65b0\u5efa\u5206\u7ec4"]});return Object(E.jsxs)(A.Page,{header:"\u9009\u62e9\u5206\u7ec4",headerClassName:"bg-primary",children:[n,Object(E.jsx)(A.List,{items:r,item:{onSelect:e.onSelect,render:e.renderTag},selectedItems:t})]})})),e}return Object(k.a)(r,[{key:"open",value:function(){var e=Object(g.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(A.VPage),L=[{name:"name",type:"string",required:!0,maxLength:10},{name:"id",type:"id"},{name:"submit",type:"submit"}],G={items:{name:{widget:"text",label:null,placeholder:"\u5206\u7ec4\u540d\u79f0"},id:{widget:"id",visible:!1},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},_=function(e){Object(N.a)(r,e);var t=Object(S.a)(r);function r(){var e;Object(O.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onFormButtonClick=function(){var t=Object(g.a)(j.a.mark((function t(r,n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveNewTag(n.data);case 2:if(!t.sent){t.next=4;break}e.controller.closePage();case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){return Object(E.jsx)(A.Page,{header:"\u65b0\u5efa\u5206\u7ec4",headerClassName:"bg-primary",children:Object(E.jsx)("div",{className:"px-3 py-3",children:Object(E.jsx)(A.Form,{schema:L,uiSchema:G,formData:void 0,onButtonClick:e.onFormButtonClick})})})},e}return Object(k.a)(r,[{key:"open",value:function(){var e=Object(g.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(A.VPage),R=function(e){Object(N.a)(r,e);var t=Object(S.a)(r);function r(){var e;Object(O.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onFormButtonClick=function(){var t=Object(g.a)(j.a.mark((function t(r,n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveTag(n.data);case 2:if(!t.sent){t.next=4;break}e.controller.closePage();case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(t){var r={id:t.id,name:t.name};return Object(E.jsx)(A.Page,{header:"\u7f16\u8f91\u5206\u7ec4",headerClassName:"bg-primary",children:Object(E.jsx)("div",{className:"px-3 py-3",children:Object(E.jsx)(A.Form,{schema:L,uiSchema:G,formData:r,onButtonClick:e.onFormButtonClick})})})},e}return Object(k.a)(r,[{key:"open",value:function(){var e=Object(g.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(A.VPage),q=r(26),W=r(34),B=r(41),K=(n=function(e){Object(N.a)(r,e);var t=Object(S.a)(r);function r(e){var n;return Object(O.a)(this,r),n=t.call(this,e),Object(y.a)(n,"baseItem",a,Object(w.a)(n)),Object(y.a)(n,"loaded",i,Object(w.a)(n)),Object(y.a)(n,"price",c,Object(w.a)(n)),Object(y.a)(n,"stockTags",s,Object(w.a)(n)),n.selectedTags=void 0,n.exrightForEarning=[],n.exrightInfo=[],Object(y.a)(n,"seasonData",o,Object(w.a)(n)),Object(y.a)(n,"predictSeasonData",u,Object(w.a)(n)),Object(y.a)(n,"predictSeasonDataFull",l,Object(w.a)(n)),Object(y.a)(n,"predictData",p,Object(w.a)(n)),Object(y.a)(n,"ypredict",d,Object(w.a)(n)),Object(y.a)(n,"historyData",h,Object(w.a)(n)),n.historyDataOrg=[],n._capitalearning=C.observable.array([],{deep:!0}),n._bonus=C.observable.array([],{deep:!0}),n._divideInfo=C.observable.array([],{deep:!0}),Object(y.a)(n,"isMySelect",f,Object(w.a)(n)),n.initLoad=function(){n.load()},n.load=Object(g.a)(j.a.mark((function e(){var t,r,a,i,c,s,o,u,l,p,d,h;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.baseItem){e.next=2;break}return e.abrupt("return");case 2:return t=n.baseItem,r=t.id,a=t.day,e.next=5,Promise.all([n.cApp.miNet.q_stockallinfo(r,a),n.cApp.miNet.t_tagstock$query(void 0,r)]);case 5:if(i=e.sent,n.stockTags=i[1],c=i[0],!Array.isArray(c[0])){e.next=26;break}return s=c[1],Array.isArray(s)&&(n.price=s[0]),n._capitalearning.length>0&&n._capitalearning.clear(),o=c[2],Array.isArray(o)&&(u=n._capitalearning).push.apply(u,Object(x.a)(o)),n._bonus.clear(),l=c[3],Array.isArray(l)&&(p=n._bonus).push.apply(p,Object(x.a)(l)),n._divideInfo.clear(),d=c[4],Array.isArray(d)&&(h=n._divideInfo).push.apply(h,Object(x.a)(d)),n.exrightForEarning=c[5],e.next=23,n.loadTTMEarning(c[6]);case 23:n.exrightInfo=c[7],n.historyDataOrg=c[8],n.loadHistoryData(!1);case 26:n.isMySelect=n.cApp.store.isMySelect(r),n.loaded=!0;case 28:case"end":return e.stop()}}),e)}))),n.openMetaView=function(){},n.onSelectTag=Object(g.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.selectedTags=n.cApp.store.stockGroups.getSelected(n.stockTags),n.openVPage(V);case 2:case"end":return e.stop()}}),e)}))),n.onNewTag=function(){n.openVPage(_)},n.onEditTag=function(e){n.openVPage(R,e)},n.onSaveNewTag=function(){var e=Object(g.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,e.next=3,n.cApp.miNet.t_tag$save(r);case 3:if(a=e.sent,!(a.retId<0)){e.next=8;break}return alert(r+" \u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86"),e.abrupt("return",!1);case 8:return n.cApp.store.stockGroups.add(new W.StockGroup(r,r,n.cApp.miNet)),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSaveTag=function(){var e=Object(g.a)(j.a.mark((function e(t){var r,a,i,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,a=t.name,i=n.cApp.store.stockGroups,{id:r,name:a},!0!==i.exists(r,a)){e.next=7;break}return alert(a+" \u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86"),e.abrupt("return",!1);case 7:return e.next=9,n.cApp.miNet.t_tag$save(a);case 9:if(c=e.sent,!(void 0===(s=c.retId)||s<0)){e.next=14;break}return alert(a+" \u5df2\u7ecf\u88ab\u4f7f\u7528\u4e86"),e.abrupt("return",!1);case 14:return(o=i.groupFromId(r))&&(o.name=a),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClickSelectTag=function(){var e=Object(g.a)(j.a.mark((function e(t,r){var a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if({user:A.nav.user.id,tag:t.id,arr1:[{stock:n.baseItem.id}]},!0!==r){e.next=8;break}return e.next=4,n.cApp.store.addTagStock(n.baseItem);case 4:a={tag:{id:t.id}},n.stockTags.push(a),e.next=12;break;case 8:return e.next=10,n.cApp.store.removeTagStock(n.baseItem);case 10:i=n.stockTags.findIndex((function(e){return e.tag.id===t.id})),n.stockTags.splice(i,1);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.onClickDefaultTag=function(){var e=Object(g.a)(j.a.mark((function e(t){var r,a,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.cApp.store,a=r.stockGroups.defaultGroup.id,!0!==t){e.next=9;break}return e.next=5,r.addTagStock(n.baseItem);case 5:i={tag:{id:r.stockGroups.defaultGroup.id}},n.stockTags.push(i),e.next=13;break;case 9:return e.next=11,n.cApp.store.removeTagStock(n.baseItem);case 11:c=n.stockTags.findIndex((function(e){return e.tag.id===a})),n.stockTags.splice(c,1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showSelectStock=function(){var e=Object(g.a)(j.a.mark((function e(t){var r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new B.a(n.cApp),e.next=3,r.call();case 3:return a=e.sent,(i=Object(v.a)({},a)).day=t,n.baseItem=i,n.loaded=!1,e.next=10,n.load();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeDay=function(){var e=Object(g.a)(j.a.mark((function e(t){var r,a,i,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.baseItem.day!==t){e.next=2;break}return e.abrupt("return");case 2:return r=n.baseItem,a=r.id,i=r.name,c=r.code,s=r.symbol,o={id:a,name:i,code:c,symbol:s,day:0===t?void 0:t},n.baseItem=o,n.loaded=!1,e.next=8,n.load();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(C.makeObservable)(Object(w.a)(n)),n}return Object(k.a)(r,[{key:"capitalearning",get:function(){if(!1!==this.loaded)return this._capitalearning}},{key:"bonus",get:function(){if(!1!==this.loaded)return this._bonus}},{key:"divideInfo",get:function(){if(!1!==this.loaded)return this._divideInfo}},{key:"loadTTMEarning",value:function(){var e=Object(g.a)(j.a.mark((function e(t){var r,n,a,i,c,s,o,u,l,p,d,h,f,v,m,x,g,y,O,k,w;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.seasonData.splice(0),r={},!((n=t.length)<=0)){e.next=5;break}return e.abrupt("return");case 5:a=t[n-1].seasonno,i=t[0],c=i.shares,s=i.seasonno,o=F.a.SeasonnoToBeginEnd(s),o.end,u=Object(b.a)(t);try{for(u.s();!(l=u.n()).done;)p=l.value,d=p.seasonno,h={season:d,c:p.capital*p.shares/c,e:p.pseason/c,esum:p.profit/c,corg:p.capital,eorg:p.es,esumorg:p.earning},r[d]=h}catch(j){u.e(j)}finally{u.f()}0,f=a;case 14:if(!(f<=s)){e.next=22;break}if(void 0!==(v=r[f])){e.next=18;break}return e.abrupt("continue",19);case 18:this.seasonData.splice(0,0,v);case 19:++f,e.next=14;break;case 22:if(m=s-19,this.predictData=void 0,this.predictSeasonData.splice(0),this.predictSeasonDataFull.splice(0),!(m<a)){e.next=28;break}return e.abrupt("return");case 28:m+=3,this.ypredict=[],x=m;case 31:if(!(x<=s)){e.next=40;break}if(void 0!==(g=r[x])){e.next=35;break}return e.abrupt("break",40);case 35:this.predictSeasonData.splice(0,0,g),this.ypredict.push(g.esum);case 37:x+=4,e.next=31;break;case 40:y=s;case 41:if(!(y>=a)){e.next=49;break}if(void 0!==(O=r[y])){e.next=45;break}return e.abrupt("break",49);case 45:this.predictSeasonDataFull.push(O);case 46:y-=4,e.next=41;break;case 49:5===this.ypredict.length?(k=new q.a(this.ypredict),w=new q.b(this.ypredict),this.predictData={e:this.ypredict[4],b:k.B,r2:k.r2,epre:k.predict(4),l:w.slopeR,lr2:w.r2,lpre:w.predict(4)}):this.predictSeasonData.splice(0);case 50:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ExrightEarning",value:function(e,t,r){for(var n=F.a.SeasonnoToBeginEnd(t).end,a=0;a<this.exrightForEarning.length;++a){var i=this.exrightForEarning[a],c=i.day;if(c>e)break;if(!(c<n)){var s=i.factor;r.c=r.c*s,r.e=r.e*s,r.esum=r.esum*s}}}},{key:"loadHistoryData",value:function(e){var t=this.historyDataOrg,r=t.length;if(r<=10)this.historyData=[];else{if(!e){var n=this.baseItem.day;if(void 0!==n){for(var a=r-1;a>=0;--a){if(t[a].day<=n)break}r=a+1}}var i=r-1,c=t[i],s=c.dayno;if(void 0===s)for(;i>0&&void 0===(s=(c=t[--i]).dayno););for(var o=c.day,u=s%5,l=[],p=0;p<=i;++p){var d=t[p],h=d.day,f=d.price;d.dayno%5===u&&l.push({day:h,price:this.RestorePrice(f,h,o),ttm:this.CalculateHistoryPE(f,h)})}this.historyData=l}}},{key:"RestorePrice",value:function(e,t,r){var n=0,a=e;if(t<r){for(var i=0;i<this.exrightInfo.length;++i){var c=this.exrightInfo[i],s=c.day,o=c.bonus,u=c.factor,l=c.factore;if(!(s<=t)){if(s>r)break;a*=u,n=(n+o)*l}}a-=n}else{for(var p=0;p<this.exrightInfo.length;++p){var d=this.exrightInfo[p],h=d.day,f=d.bonus,b=d.factor,v=d.factore;if(!(h<=r)){if(h>t)break;a/=b,n=n/v+f}}a+=n}return a}},{key:"CalculateHistoryPE",value:function(e,t){for(var r=F.a.SeasonnoFromDay(t),n=this.seasonData.length,a=0;a<n;++a){var i=this.seasonData[a];if(!(i.season>=r)){if(void 0===i.esumorg)return;var c=F.a.SeasonnoToBeginEnd(i.season).end;return this.RestorePrice(e,t,c)/i.esumorg}}}},{key:"internalStart",value:function(){var e=Object(g.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.baseItem=t,r=this.baseItem.id,this.isMySelect=this.cApp.store.isMySelect(r),this.initLoad(),this.openVPage(P.a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(I.b),a=Object(T.a)(n.prototype,"baseItem",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(T.a)(n.prototype,"loaded",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(T.a)(n.prototype,"price",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Object(T.a)(n.prototype,"stockTags",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(T.a)(n.prototype,"seasonData",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=Object(T.a)(n.prototype,"predictSeasonData",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(T.a)(n.prototype,"predictSeasonDataFull",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=Object(T.a)(n.prototype,"predictData",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=Object(T.a)(n.prototype,"ypredict",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Object(T.a)(n.prototype,"historyData",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(T.a)(n.prototype,"capitalearning",[C.computed],Object.getOwnPropertyDescriptor(n.prototype,"capitalearning"),n.prototype),Object(T.a)(n.prototype,"bonus",[C.computed],Object.getOwnPropertyDescriptor(n.prototype,"bonus"),n.prototype),Object(T.a)(n.prototype,"divideInfo",[C.computed],Object.getOwnPropertyDescriptor(n.prototype,"divideInfo"),n.prototype),f=Object(T.a)(n.prototype,"isMySelect",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n)},131:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},no:{name:"no",type:"string",isKey:!0,widget:"string",label:"No"},name:{name:"name",type:"string",isKey:!1,widget:"string",label:"Name"}},i=[a.no,a.name],c={label:"Account",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},132:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},account:{name:"account",type:"id",isKey:!0,label:"Account"},stock:{name:"stock",type:"id",isKey:!0,label:"Stock"}},i=[a.account,a.stock],c={label:"Holding",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},133:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},holding:{name:"holding",type:"id",isKey:!0,label:"Holding"},tick:{name:"tick",isKey:!0,label:"Tick"},price:{name:"price",type:"integer",isKey:!1,widget:"updown",label:"Price"},quantity:{name:"quantity",type:"integer",isKey:!1,widget:"updown",label:"Quantity"},amount:{name:"amount",type:"integer",isKey:!1,widget:"updown",label:"Amount"}},i=[a.holding,a.tick,a.price,a.quantity,a.amount],c={label:"Transaction",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},134:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},market:{name:"market",type:"id",isKey:!0,label:"Market"},code:{name:"code",type:"string",isKey:!0,widget:"string",label:"Code"},name:{name:"name",type:"string",isKey:!1,widget:"string",label:"Name"}},i=[a.market,a.code,a.name],c={label:"Stock",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},135:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},name:{name:"name",type:"string",isKey:!0,widget:"string",label:"Name"},currency:{name:"currency",type:"string",isKey:!1,widget:"string",label:"Currency"}},i=[a.name,a.currency],c={label:"Market",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},136:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},quantity:{name:"quantity",type:"integer",isKey:!1,widget:"updown",label:"Quantity"}},i=[a.quantity],c={label:"Portfolio",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},137:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},miRate:{name:"miRate",type:"integer",isKey:!1,widget:"updown",label:"MiRate"},ttm:{name:"ttm",type:"integer",isKey:!1,widget:"updown",label:"Ttm"},divident:{name:"divident",type:"integer",isKey:!1,widget:"updown",label:"Divident"},price:{name:"price",type:"integer",isKey:!1,widget:"updown",label:"Price"},roe:{name:"roe",type:"integer",isKey:!1,widget:"updown",label:"Roe"},inc1:{name:"inc1",type:"integer",isKey:!1,widget:"updown",label:"Inc1"},inc2:{name:"inc2",type:"integer",isKey:!1,widget:"updown",label:"Inc2"},inc3:{name:"inc3",type:"integer",isKey:!1,widget:"updown",label:"Inc3"},inc4:{name:"inc4",type:"integer",isKey:!1,widget:"updown",label:"Inc4"},preInc:{name:"preInc",type:"integer",isKey:!1,widget:"updown",label:"PreInc"},marketValue:{name:"marketValue",type:"integer",isKey:!1,widget:"updown",label:"MarketValue"}},i=[a.miRate,a.ttm,a.divident,a.price,a.roe,a.inc1,a.inc2,a.inc3,a.inc4,a.preInc,a.marketValue],c={label:"StockValue",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},138:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return i})),r.d(t,"ui",(function(){return c})),r.d(t,"res",(function(){return s})),r.d(t,"render",(function(){return o}));var n=r(0),a={id:{name:"id",type:"id",isKey:!1,label:"Id"},mi:{name:"mi",type:"integer",isKey:!1,widget:"updown",label:"Mi"},market:{name:"market",type:"integer",isKey:!1,widget:"updown",label:"Market"},count:{name:"count",type:"integer",isKey:!1,widget:"updown",label:"Count"}},i=[a.mi,a.market,a.count],c={label:"AccountValue",fieldArr:i,fields:a},s={zh:{},en:{}};function o(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},139:function(e,t,r){"use strict";r.r(t),r.d(t,"fieldArr",(function(){return a})),r.d(t,"ui",(function(){return i})),r.d(t,"res",(function(){return c})),r.d(t,"render",(function(){return s}));var n=r(0),a=[],i={label:"UserAccount",fieldArr:a,fields:{id:{name:"id",type:"id",isKey:!1,label:"Id"},id2:{name:"id2",type:"id",isKey:!1,label:"Id2"}}},c={zh:{},en:{}};function s(e){return Object(n.jsx)(n.Fragment,{children:JSON.stringify(e)})}},145:function(e,t,r){},16:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return i}));var n={uqBasedata:"bruce/mi",appIcon:"https://tv.jkchemical.com/imgs/Bear-icon.png",miApiHost:"https://mi.jjol.cn/",miApiHostDebug:"http://localhost:6010/",isDevelopment:!1},a="\u81ea\u9009\u80a1",i="\u9ed1\u540d\u5355"},255:function(e,t,r){},26:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return c}));var n=r(6),a=r(7),i=function(){function e(t){Object(n.a)(this,e),this.slope=void 0,this.intercept=void 0,this.y=void 0,this.slopeR=void 0,this.endY=void 0,this.r2=void 0,this.y=t,this.regress();var r=this.score();this.r2=r.r2}return Object(a.a)(e,[{key:"regress",value:function(){for(var e=this.y.length,t=0,r=0,n=0,a=0,i=0;i<e;++i)t+=i,r+=this.y[i],n+=i*i,a+=i*this.y[i];var c=e*a-t*r;this.slope=c/(e*n-t*t),this.intercept=1/e*r-this.slope*(1/e)*t;var s=this.slope>0?this.predict(e-2):this.predict(1);this.slopeR=s<.01?void 0:this.slope/s}},{key:"score",value:function(){for(var e=this.y.length,t=new Array(e),r=0;r<e;r++)t[r]=this.predict(r);for(var n=0,a=0,i=0,c=0,s=0,o=0,u=0,l=0;l<e;l++){var p=t[l];n+=p;var d=this.y[l];a+=d,s+=p*p,o+=d*d,u+=p*d;var h=d-p;0!==d&&(i+=h*h/d),c+=h*h}var f=(e*u-n*a)/Math.sqrt((e*s-n*n)*(e*o-a*a));return{r:f,r2:f*f,chi2:i,rmsd:Math.sqrt(c/e)}}},{key:"predict",value:function(e){return this.slope*e+this.intercept}},{key:"computeX",value:function(e){return(e-this.intercept)/this.slope}}]),e}(),c=function(){function e(t){Object(n.a)(this,e),this.A=void 0,this.B=void 0,this.y=void 0,this.r2=void 0,this.y=t,this.regress();var r=this.score();this.r2=r.r2}return Object(a.a)(e,[{key:"regress",value:function(){for(var e=this.y.length,t=0,r=0,n=0,a=0,i=0;i<e;++i){t+=i;var c=Math.log(this.y[i]);r+=c,n+=i*i,a+=i*c}var s=(e*a-t*r)/(e*n-t*t),o=1/e*r-s*(1/e)*t;this.A=Math.exp(o),this.B=s}},{key:"score",value:function(){for(var e=this.y.length,t=new Array(e),r=0;r<e;r++)t[r]=this.predict(r);for(var n=0,a=0,i=0,c=0,s=0,o=0,u=0,l=0;l<e;l++){var p=t[l];n+=p;var d=this.y[l];a+=d,s+=p*p,o+=d*d,u+=p*d;var h=d-p;0!==d&&(i+=h*h/d),c+=h*h}var f=(e*u-n*a)/Math.sqrt((e*s-n*n)*(e*o-a*a));return{r:f,r2:f*f,chi2:i,rmsd:Math.sqrt(c/e)}}},{key:"predict",value:function(e){return this.A*Math.exp(e*this.B)}}]),e}()},261:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),i=r(50),c=r.n(i),s=(r(144),r(145),r(1)),o=r.n(s),u=r(2),l=r(6),p=r(7),d=r(9),h=r(8),f=r(3),b=(r(255),r(40)),v=r(39),m=r(0),j=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onLogined=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.start)(b.a,v.a);case 2:case"end":return e.stop()}}),e)}))),e}return Object(p.a)(r,[{key:"render",value:function(){return Object(m.jsx)(f.NavView,{onLogined:this.onLogined})}}]),r}(a.a.Component),x=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,262)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j,{})}),document.getElementById("root")),x()},27:function(e,t,r){"use strict";r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return f.a}));var n=r(3),a=r(0);function i(e,t,r,n,i){return Object(a.jsxs)("label",{className:"btn btn-outline-info mb-0",children:[Object(a.jsx)("input",{type:"radio",className:"btn-sm btn-check mr-1",name:e,defaultChecked:t===i,onClick:function(){return n(t)}}),r]})}function c(e,t,r){return t||(t="tagv"),Object(a.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[i(e,"tagv","\u7c73\u606f\u5206",r,t),i(e,"tagpe","TTM",r,t),i(e,"tagdp","\u80a1\u606f\u7387",r,t)]})}function s(e,t,r,i){e.id;var c,s=e.name,o=e.code,f=e.pe,b=e.roe,v=e.price,m=e.divyield,j=e.v,x=e.order,g=(e.symbol,e.l),y=(e.e,e.ep,e.e3,e.total),O=h(e.dataArr),k=Object(a.jsxs)("div",{className:"cursor-pointer",onClick:function(){return t(e)},children:[Object(a.jsx)("span",{className:"text-primary",children:s}),"\xa0",Object(a.jsx)("span",{className:"text-info",children:o}),"\xa0",Object(a.jsx)("small",{className:"small ml-1",children:Object(a.jsx)("span",{className:"text-danger",children:x})})]}),w=[["\u7c73\u606f\u5206",Math.log2(j),"n1"],["\u7c73\u606f\u7387",j,"n1"],["\u80a1\u606f\u7387",100*m,"n1"],["TTM",f,"n1"],["\u4ef7\u683c",v,"n2"],["ROE",100*b,"n1"],["\u9884\u589e",g,"p0"],["\u73b0\u589e",O[3],"p0"],["\u589e 1",O[2],"p0"],["\u589e 2",O[1],"p0"],["\u589e 3",O[0],"p0"],["\u5e02\u503c",y*v,"yi"]];return r&&(c=Object(a.jsx)("span",{className:"ml-4",children:r})),Object(a.jsxs)("div",{className:"d-block border-top",children:[Object(a.jsx)(n.LMR,{className:"px-2 py-1 bg-light",left:k,right:i,children:c}),Object(a.jsx)("div",{className:"d-flex flex-wrap p-1",children:w.map((function(e){return function(e,t,r){var n,i="px-2 mb-1 text-right c5";if(!0===isNaN(t))n="-";else switch(r){case"p0":n=p(t);break;case"p1":n=d(t);break;case"n1":n=u(t,1);break;case"n2":n=u(t,2);break;case"yi":n=l(t),i="px-2 mb-1 text-right c5"}return Object(a.jsxs)("div",{className:i,children:[Object(a.jsx)("span",{className:"text-muted small",children:e}),Object(a.jsx)("br",{}),n]},e)}(e[0],e[1],e[2])}))})]})}function o(e){var t=e.symbol;return Object(a.jsx)("a",{className:"text-info",href:"https://finance.sina.com.cn/realstock/company/".concat(t,"/nc.shtml"),target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.stopPropagation()},children:Object(a.jsx)(n.FA,{name:"angle-double-right"})})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"":e.toFixed(t)}function l(e){return void 0===e||isNaN(e)?"":Math.round(e/1e4).toString()}function p(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(0)+"%"}function d(e){return void 0===e||isNaN(e)?"":(100*e).toFixed(1)+"%"}function h(e){var t=[void 0,void 0,void 0,void 0];if(void 0===e)return t;if(e.length<5)return t;for(var r=function(e,t){if(!(t<=0||e<=0))return e/t-1},n=0;n<4;++n)t[n]=r(e[n+1],e[n]);return t}var f=r(10)},34:function(e,t,r){"use strict";var n=r(127);r.o(n,"StockGroup")&&r.d(t,"StockGroup",(function(){return n.StockGroup})),r.o(n,"Store")&&r.d(t,"Store",(function(){return n.Store})),r.o(n,"sortStocks")&&r.d(t,"sortStocks",(function(){return n.sortStocks}));var a=r(129);r.d(t,"Store",(function(){return a.a}));var i=r(38);r.d(t,"sortStocks",(function(){return i.a}));var c=r(53);r.d(t,"StockGroup",(function(){return c.a}));r(52)},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(20);function a(e,t){t.sort(function(e){switch(e){case"tagpe":return function(e,t){return e.pe-t.pe};case"tagdp":return function(e,t){return t.divyield-e.divyield};default:return function(e,t){return t.v-e.v}}}(e));var r,a=1,i=Object(n.a)(t);try{for(i.s();!(r=i.n()).done;){r.value.order=a,++a}}catch(c){i.e(c)}finally{i.f()}}},39:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={version:"0.1.0",app:void 0,uqs:[{dev:{name:"bruce",alias:void 0},name:"yumi",alias:"YuMi",version:"0.1.0"}],noUnit:!0,tvs:{},oem:void 0,htmlTitle:"\u9c7c\u7c73\u4e61 - \u79c1\u4eab\u6295\u8d44\u5708"}},40:function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return Ie}));var n,a,i,c,s=r(7),o=r(6),u=r(9),l=r(8),p=r(3),d=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return r}(p.CBase),h=(p.CSub,function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"newC",value:function(e){var t=new e(this);return t.init(),t}}]),r}(p.CAppBase)),f=r(1),b=r.n(f),v=r(2),m=r(13),j=r(55),x=r(4),g=r.p+"static/media/logo.2d27ead7.svg",y=r(0),O=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){p.FA;var e=Object(y.jsx)("img",{className:"m-1",src:g,alt:"logo",style:{height:"3rem",width:"3rem"}});return Object(y.jsx)(p.LMR,{className:"mb-3 align-items-center bg-white",left:e,right:undefined,children:Object(y.jsx)("div",{className:"",children:this.controller.renderSearchHeader("md")})})}}]),r}(p.View),k=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSearch=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(s.a)(r,[{key:"render",value:function(e){return Object(y.jsx)(p.SearchBox,{className:"px-1 w-100",size:e,onSearch:this.onSearch,placeholder:"\u529f\u80fd..."})}}]),r}(p.View),w=r(23),N=r(11),S=r(27),T=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderRow=function(t,r){return e.rowContent(t)},e.rowContent=function(t){var r=Object(S.i)(t);return Object(S.h)(t,e.onClickName,null,r)},e.rowKey=function(e){return e.id},e.onClickName=function(t){e.controller.openStockInfo(t)},e.onSelected=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.clickRow=function(t){e.callOnSelected(t)},e}return Object(s.a)(r,[{key:"header",value:function(){var e=this;return x.createElement(Object(N.observer)((function(){return Object(y.jsxs)("span",{className:"ml-3",children:["\u9996\u9875 - ",e.controller.stockGroup.name]})})))}},{key:"right",value:function(){var e=this;return x.createElement(Object(N.observer)((function(){var t=e.controller.store.stockGroups.groups.map((function(t){return{caption:t.name,action:function(){return e.controller.changeGroup(t)}}})),r=[{caption:"\u5e02\u573a\u5e73\u5747PE",action:e.controller.openMarketPE},{caption:"\u9009\u62e9\u80a1\u7968",action:e.controller.onAddStock},void 0].concat(Object(w.a)(t),[void 0,{caption:"\u7ba1\u7406\u81ea\u9009\u7ec4",action:e.controller.manageGroups}]);return Object(y.jsx)(p.DropdownActions,{actions:r,icon:"bars",className:"mr-2 text-white bg-transparent border-0"})})))}},{key:"onPageScrollBottom",value:function(e){this.controller.onPage()}},{key:"content",value:function(){var e=this;return x.createElement(Object(N.observer)((function(){var t=e.controller,r=t.setSortType,n=t.stockGroup,a=t.sortType,i=(n.name,n.stocks),c=e.controller;c.onSelectTag,c.onAddStock;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"d-flex justify-content-end mr-2 my-1",children:Object(S.g)("radioHome",a,r)}),Object(y.jsx)(p.List,{items:i,item:{render:e.renderRow,key:e.rowKey},before:"...",none:Object(y.jsx)("small",{className:"px-3 py-3 text-info",children:"\u65e0\u81ea\u9009\u80a1, \u8bf7\u9009\u80a1"})})]})})))}},{key:"callOnSelected",value:function(e){void 0!==this.onSelected?this.onSelected(e):alert("onSelect is undefined")}}]),r}(p.VPage),C=r(17),A=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderTag=function(e){return Object(y.jsx)("div",{className:"px-3 py-2 cursor-pointer",children:e.name})},e.page=Object(C.d)((function(){var t=e.controller.cApp.store.stockGroups,r=e.controller.onClickTag;return Object(y.jsx)(p.Page,{header:"\u9009\u62e9\u5206\u7ec4",headerClassName:"bg-primary",children:Object(y.jsx)(p.List,{items:t.groups,item:{onClick:r,render:e.renderTag}})})})),e}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.VPage),I=r(18),F=r(14),P=(r(37),r(5)),D=r(20),M=r(31),E=r.n(M),V=r(10),L=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e,n=this;Object(o.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).input=void 0,e.key=void 0,e.checkLimitShow=function(t){var r=t.target.checked?1:0;e.controller.onLongShortFlag(r)},e.page=Object(N.observer)((function(){var e=Object(y.jsx)("div",{children:""});return Object(y.jsx)(p.Page,{header:e,headerClassName:"bg-primary",children:Object(y.jsx)(n.pageContent,{})})})),e.pageContent=Object(N.observer)((function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(n.historyChart,{})})})),e.historyChart=Object(N.observer)((function(){var t=e.controller.historyData;if(void 0===t)return Object(y.jsx)(y.Fragment,{});var r,n=y.Fragment,a=[],i=[],c=[],s=Object(D.a)(t);try{for(s.s();!(r=s.n()).done;){var o=r.value,u=o.day,l=o.pe,d=o.e;a.push(u),i.push(V.a.numberToPrecision(l,4)),c.push(d)}}catch(b){s.e(b)}finally{s.f()}var h={labels:a,datasets:[{label:"PE",data:i,borderColor:"blue",backgroundColor:"skyBlue",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"e",data:c,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1,yAxisID:"y-axis-2"}]};n=Object(y.jsx)(E.a,{data:h,type:"line",options:{scales:{yAxes:[{type:"linear",display:!0,position:"right",id:"y-axis-1"},{type:"linear",display:!0,position:"left",id:"y-axis-2",gridLines:{drawOnChartArea:!1}}]}}});var f=y.Fragment;return f=Object(y.jsxs)("label",{className:"px-3",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"selectType",defaultChecked:!1,onChange:e.checkLimitShow}),"\u957f\u671f"]}),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.LMR,{className:"px-3 py-2 bg-white",left:"\u5e02\u573aPE\u5386\u53f2\u8d70\u52bf",right:f}),Object(y.jsx)("div",{className:"px-3",style:{width:"95%"},children:n})]})})),e}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return Object(y.jsx)(this.page,{})}}]),r}(p.VPage),G=(n=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(I.a)(e,"historyData",a,Object(m.a)(e)),e.longshortFlag=0,e.loadData=Object(v.a)(b.a.mark((function t(){var r,n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Date,n=[1e4*r.getFullYear()+100*(r.getMonth()+1)+r.getDate(),750,e.longshortFlag],t.next=4,e.cApp.miNet.q_marketpe(n);case 4:a=t.sent,e.historyData=a.reverse();case 6:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData(),this.openVPage(L);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLongShortFlag",value:function(e){e!==this.longshortFlag&&(this.longshortFlag=e,this.loadData())}}]),r}(d),a=Object(F.a)(n.prototype,"historyData",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n),_=r(41),R=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;Object(o.a)(this,r),(n=t.call(this,e)).store=void 0,n.stockGroup=void 0,n.sortType=void 0,n.load=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stockGroup=n.store.getHomeStockGroup(),n.stockGroup,n.sortType=n.store.config.userStock.sortType,n.sortType||(n.sortType=""),e.next=6,n.stockGroup.loadItems();case 6:n.stockGroup.sort(n.sortType);case 7:case"end":return e.stop()}}),e)}))),n.manageGroups=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.cApp.showGroupsManage();case 1:case"end":return e.stop()}}),e)}))),n.onSelectTag=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(A);case 1:case"end":return e.stop()}}),e)}))),n.onAddStock=Object(v.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new _.a(n.cApp),e.next=3,t.call();case 3:if(void 0===(r=e.sent)){e.next=7;break}return e.next=7,n.stockGroup.addStock(r);case 7:case"end":return e.stop()}}),e)}))),n.onClickTag=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cApp.store.selectTag(t);case 2:n.closePage();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onPage=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),n.onWarningConfg=function(){n.cApp.cWarning.onWarningConfg()},n.renderSiteHeader=function(){return n.renderView(O)},n.renderSearchHeader=function(e){return n.renderView(k,e)},n.tab=function(){return n.renderView(T)},n.openStockInfo=function(e){n.newC(j.CStockInfo).start(e)},n.openMarketPE=function(){n.newC(G).start()},n.setSortType=function(e){n.stockGroup.sort(e),n.store.setUserSortType(e)},Object(P.makeObservable)(Object(m.a)(n),{stockGroup:P.observable,sortType:P.observable});var a=e.store;return n.store=a,n}return Object(s.a)(r,[{key:"changeGroup",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stockGroup=t,e.next=3,this.stockGroup.loadItems();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(d),q=(i=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;Object(o.a)(this,r),(n=t.call(this,e)).schema=[{name:"nick",type:"string"},{name:"icon",type:"image"}],n.uiSchema={items:{nick:{widget:"text",label:"\u522b\u540d",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"},icon:{widget:"image",label:"\u5934\u50cf"}}},Object(I.a)(n,"data",c,Object(m.a)(n)),n.onItemChanged=function(){var e=Object(v.a)(b.a.mark((function e(t,r,a){var i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.name,e.next=3,p.userApi.userSetProp(i,r);case 3:n.data[i]=r,p.nav.user.name=r,p.nav.saveLocalUser();case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.onExit=function(){p.nav.showLogout()},n.changePassword=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.nav.changePassword();case 2:case"end":return e.stop()}}),e)}))),n.page=function(){var e=Object(m.a)(n),t=e.schema,r=e.uiSchema,a=e.data,i=e.onItemChanged,c=["",{type:"component",component:Object(y.jsx)(p.IconText,{iconClass:"text-info mr-2",icon:"key",text:n.t("changePassword")}),onClick:n.changePassword},"","",{type:"component",bk:"",component:Object(y.jsx)("div",{className:"w-100 text-center",children:Object(y.jsxs)("button",{className:"btn btn-danger w-100 w-max-20c",onClick:n.onExit,children:[Object(y.jsx)(p.FA,{name:"sign-out",size:"lg"})," ",n.t("logout")]})})}];return Object(y.jsxs)(p.Page,{header:"\u4e2a\u4eba\u4fe1\u606f",children:[Object(y.jsx)(p.Edit,{schema:t,uiSchema:r,data:a,onItemChanged:i}),Object(y.jsx)(p.PropGrid,{rows:c,values:{}})]})};var a=p.nav.user,i=a.nick,s=a.icon;return n.data={nick:i,icon:s},n}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.VPage),c=Object(F.a)(i.prototype,"data",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i),W=r(39),B=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"header",value:function(){return"\u57fa\u672c\u6982\u5ff5"}},{key:"content",value:function(){return Object(y.jsxs)("ul",{children:[Object(y.jsxs)("li",{className:"my-3",children:[Object(y.jsx)("div",{className:"my-2",children:"\u57fa\u672c\u516c\u7406"}),Object(y.jsxs)("ul",{className:"px-3 text-info",children:[Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u516c\u74061: "}),"\u8fdb\u6b65\u662f\u793e\u4f1a\u7684\u5fc5\u7136"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u516c\u74062: "}),"\u4fe1\u4efb\u662f\u7ecf\u6d4e\u7684\u57fa\u77f3"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u516c\u74063: "}),"\u4ef7\u503c\u662f\u4ef7\u683c\u7684\u51c6\u5fc3"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u516c\u74064: "}),"\u53d1\u5c55\u662f\u4f01\u4e1a\u7684\u57fa\u56e0"]})]})]}),Object(y.jsxs)("li",{className:"my-3",children:[Object(y.jsx)("div",{className:"my-2",children:"\u7c73\u6295\u5b9a\u5f8b"}),Object(y.jsx)("ul",{className:"px-3 text-info",children:Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u5b9a\u5f8b1: "}),"\u6295\u8d44\u65e0\u98ce\u9669"]})})]}),Object(y.jsxs)("li",{className:"my-3",children:[Object(y.jsx)("div",{className:"my-2",children:"\u7c73\u6295\u539f\u5219"}),Object(y.jsxs)("ul",{className:"px-3 text-info",children:[Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u539f\u52191: "}),"\u4f4e\u4f30"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u539f\u52192: "}),"\u5206\u6563"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u539f\u52193: "}),"\u4e0d\u6df1\u7814"]})]})]}),Object(y.jsxs)("li",{className:"my-3",children:[Object(y.jsx)("div",{className:"my-2",children:"\u7c73\u606f\u5b9a\u4e49"}),Object(y.jsxs)("ul",{className:"px-3 text-info",children:[Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e491: "}),"\u7c73\u606f = \u589e\u606f + \u80a1\u606f"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e492: "}),"\u589e\u606f = \u4f01\u4e1a\u672a\u6765\u4e09\u5e74\u5229\u6da6\u589e\u957f\u503c"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e493: "}),"\u7c73\u606f\u7387 = \u7c73\u606f / \u80a1\u4ef7"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e494: "}),"\u7c73\u606f\u7387\u5927\u4e00\u500d\uff0c\u7c73\u606f\u5206\u52a01"]}),Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{className:"mr-3",children:"\u5b9a\u4e495: "}),"PE = \u80a1\u4ef7 / \u5229\u6da6"]})]})]})]})}}]),r}(p.VPage),K=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"header",value:function(){return"\u5173\u4e8eAPP"}},{key:"content",value:function(){return Object(y.jsxs)("div",{className:"py-5 px-3 my-3 w-max-30c mx-auto bg-white",children:[Object(y.jsxs)("div",{className:"text-center mb-5 position-relative",children:[Object(y.jsxs)("small",{className:"text-muted position-absolute",style:{right:"0",top:"-2.8rem"},children:["\u7248\u672c: ",W.a.version]}),Object(y.jsx)("i",{className:"text-danger position-absolute top-0 start-0 fa fa-fire fa-2x",style:{left:"2rem",top:"0.5rem"}}),Object(y.jsxs)("b",{className:"text-danger h5 mb-0",children:[Object(y.jsx)("span",{className:"text-primary",children:"\u9c7c"}),Object(y.jsx)("b",{className:"mx-1",children:"\u7c73"}),Object(y.jsx)("span",{className:"text-success",children:"\u4e61"})]}),Object(y.jsx)("br",{}),Object(y.jsx)("small",{className:"text-info",children:"\u79c1\u4eab\u6295\u8d44\u5708"})]}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:"\u8ddf\u5bb6\u4eba\u548c\u597d\u53cb\u4e00\u8d77\u5206\u4eab\u6295\u8d44\u601d\u8003\u3002"}),Object(y.jsx)("li",{children:"\u4e16\u754c\u7ea7\u6295\u8d44\u5927\u5e08\u5e74\u5316\u6536\u76ca\u738711%\u3002"}),Object(y.jsx)("li",{children:"\u5168\u7403\u6700\u5927\u7684\u6210\u957f\u7ecf\u6d4e\u4f53GDP\u589e\u957f\u7387\u9ad8\u4e8e5%\u3002"}),Object(y.jsxs)("li",{children:["\u4ee510%\u4e3a\u57fa\u7840\uff0c\u671f\u5f85",Object(y.jsx)("b",{className:"text-danger mx-1",children:"15%\u4ee5\u4e0a"}),"\u7684\u9ad8\u6c34\u5e73\u3002"]})]}),Object(y.jsxs)("div",{className:"mt-5 text-center",children:[Object(y.jsx)("small",{className:"text-muted mr-2",children:"by"}),"\u540c\u82b1\u6295\u987e"]})]})}}]),r}(p.VPage),$=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).meInfo=Object(N.observer)((function(){var t=p.nav.user;if(void 0===t)return null;var r=t.id,n=t.name,a=t.nick,i=t.icon;return Object(y.jsx)(p.LMR,{className:"py-2 cursor-pointer w-100",left:Object(y.jsx)(p.Image,{className:"w-3c h-3c mr-3",src:i||".user-o"}),right:Object(y.jsx)(p.FA,{className:"align-self-end",name:"angle-right"}),onClick:e.controller.showEditMe,children:Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:H(n,a)}),Object(y.jsxs)("div",{className:"small",children:[Object(y.jsx)("span",{className:"text-muted",children:"ID:"})," ",r>1e4?r:String(r+1e4).substr(1)]})]})})})),e.faq=function(){e.openVPage(B)},e.about=function(){e.openVPage(K)},e}return Object(s.a)(r,[{key:"header",value:function(){return this.t("me")}},{key:"content",value:function(){var e,t=p.nav.user,r=["",{type:"component",component:Object(y.jsx)(p.LMR,{className:"w-100",onClick:this.faq,right:Object(y.jsx)(p.FA,{className:"align-self-center",name:"angle-right"}),children:Object(y.jsx)(p.IconText,{iconClass:"text-info mr-2",icon:"comments-o",text:this.t("\u57fa\u672c\u6982\u5ff5")})})},{type:"component",component:Object(y.jsx)(p.LMR,{className:"w-100",onClick:this.about,right:Object(y.jsx)(p.FA,{className:"align-self-center",name:"angle-right"}),children:Object(y.jsx)(p.IconText,{iconClass:"text-info mr-2",icon:"smile-o",text:Object(y.jsxs)(y.Fragment,{children:[this.t("aboutTheApp")," ",Object(y.jsxs)("small",{children:["\u7248\u672c ",W.a.version]})]})})})}];if(void 0===t)(e=r).push({type:"component",component:Object(y.jsxs)("button",{className:"btn btn-success w-100 my-2",onClick:function(){return p.nav.logout()},children:[Object(y.jsx)(p.FA,{name:"sign-out",size:"lg"})," ",this.t("pleaseLogin")]})});else{var n;(n=e=["",{type:"component",component:Object(y.jsx)(this.meInfo,{})}]).push.apply(n,r.concat([]))}return Object(y.jsx)(p.PropGrid,{rows:Object(w.a)(e),values:{}})}}]),r}(p.VPage);function H(e,t){return t?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("b",{children:[t," \xa0 ",Object(y.jsx)("small",{className:"muted",children:e})]})}):Object(y.jsx)("b",{children:e})}var z,U,J=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).role=void 0,e.unitOwner=void 0,e.rootUnits=void 0,e.tab=function(){return e.renderView($)},e.showEditMe=Object(v.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.role=void 0,e.openVPage(q);case 2:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(d),Y=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){var e=Object(y.jsx)("img",{className:"m-1",src:g,alt:"logo",style:{height:"3rem",width:"3rem"}});return Object(y.jsx)(p.LMR,{className:"mb-3 align-items-center bg-white",left:e,right:undefined,children:Object(y.jsx)("div",{className:"",children:this.controller.renderSiteHeader()})})}}]),r}(p.View),X=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderRow=function(t,r){return e.rowContent(t)},e.rowContent=function(t){var r=e.controller.cApp.store,n=t,a=n.id;n.symbol;if(!0===r.isMyBlack(a))return null;var i="vexl_"+a,c=r.isMySelect(a),s=Object(y.jsxs)("label",{className:"mb-0 cursor-pointer",children:[Object(y.jsx)("input",{className:"mr-1",type:"checkbox",value:"",id:i,defaultChecked:c,onChange:function(r){return e.onSelect(t,r.target.checked)}}),Object(y.jsx)("small",{className:"text-muted",children:"\u81ea\u9009"})]}),o=Object(y.jsx)("div",{className:"d-flex",children:Object(S.i)(t)});return Object(S.h)(t,e.onClickName,s,o)},e.rowKey=function(e){return void 0!==e.item?e.item.id:e.id},e.onClickName=function(t){e.controller.openStockInfo(t)},e.onSelect=function(){var t=Object(v.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.controller.onSelectItem(r,n);case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onClickItem=function(){var t=Object(v.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.controller.openStockInfo(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(r,[{key:"header",value:function(){return"\u80a1\u7968\u53d1\u73b0"}},{key:"onPageScrollBottom",value:function(e){this.controller.onPage()}},{key:"right",value:function(){var e=this.controller.onConfig;return Object(y.jsx)("div",{className:"btn align-self-center cursor-pointer ",onClick:e,children:Object(y.jsx)(p.FA,{name:"cog",size:"lg",inverse:!0})})}},{key:"content",value:function(){var e=this;return x.createElement(Object(N.observer)((function(){var t,r=e.controller,n=r.explore,a=r.load,i=r.setSortType,c=n.items,s=n.avgs,o=n.sortType,u=Object(y.jsx)("div",{className:"btn btn-link cursor-pointer py-1",onClick:a,children:"\u5237\u65b0"});if(void 0!==s.avg){var l=" : ".concat(V.a.numberToFixString(Math.log(s.avg),1));t=Object(y.jsxs)("div",{className:"px-3 cursor-pointer align-self-center",children:[V.a.caption("\u7c73\u606f\u5206\u5747\u503c"),l]})}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.LMR,{left:t,right:u}),Object(y.jsx)("div",{className:"d-flex justify-content-end mr-2 my-1",children:Object(S.g)("radioHome",o,i)}),Object(y.jsx)(p.List,{items:c,item:{render:e.renderRow,key:e.rowKey},before:"\u9009\u80a1"})]})})))}}]),r}(p.VPage),Q=[{name:"irate",type:"number",required:!0},{name:"bmin",type:"number",required:!0},{name:"bmax",type:"number",required:!0},{name:"r2",type:"number",required:!0},{name:"lmin",type:"number",required:!0},{name:"lmax",type:"number",required:!0},{name:"lr2",type:"number",required:!0},{name:"mcount",type:"integer",required:!0},{name:"lr4",type:"number",required:!0},{name:"r210",type:"number",required:!0},{name:"submit",type:"submit"}],Z={items:{irate:{widget:"number",label:"\u65e0\u98ce\u9669\u6536\u76ca\u7387",placeholder:"0.04"},bmin:{widget:"number",label:"\u6307\u6570\u56de\u5f52\u6700\u5c0f\u503c",placeholder:"0.00"},bmax:{widget:"number",label:"\u6307\u6570\u56de\u5f52\u6700\u5927\u503c",placeholder:"0.00"},r2:{widget:"number",label:"\u6307\u6570\u56de\u5f52R2",placeholder:"0.00"},lmin:{widget:"number",label:"\u7ebf\u6027\u56de\u5f52\u6700\u5c0f\u503c",placeholder:"0.00"},lmax:{widget:"number",label:"\u7ebf\u6027\u56de\u5f52\u6700\u5927\u503c",placeholder:"0.00"},lr2:{widget:"number",label:"\u7ebf\u6027\u56de\u5f52R2",placeholder:"0.00"},lr4:{widget:"number",label:"\u672b\u5e74\u4e0e\u524d4\u5e74\u5747\u503c\u6700\u5927\u6bd4\u503c",placeholder:"0.00"},mcount:{widget:"number",label:"5\u5e74\u5185\u5355\u5b63\u4e8f\u635f\u6700\u591a\u5141\u8bb8\u51fa\u73b0\u6b21\u6570",placeholder:"0.00"},r210:{widget:"number",label:"\u5341\u5e74\u56de\u5f52R2",placeholder:"0.00"},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},ee=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).sortChage=function(t){var r=t.target.value;e.controller.cApp.store.setStockSortType(r)},e.selectChange=function(t){var r=t.target.value;e.controller.cApp.store.setStockSelectType(r)},e.onChange=function(e){var t=e.target;t.name,t.value},e.onFormButtonClick=function(){var t=Object(v.a)(b.a.mark((function t(r,n){var a,i,c,s,o,u,l,p,d,h,f,v;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.data,i=a.bmin,c=a.bmax,s=a.r2,o=a.lmin,u=a.lmax,l=a.lr2,p=a.mcount,d=a.lr4,h=a.r210,f=a.irate,v={bmin:i,bmax:c,r2:s,lmin:o,lmax:u,lr2:l,mcount:p,lr4:d,r210:h,irate:f},t.next=4,e.controller.cApp.store.setRegressionConfig(v);case 4:e.controller.closePage();case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=Object(N.observer)((function(){e.controller.cApp.store.findStockConfg;var t=e.controller.cApp.store.config.regression;return void 0===t.irate&&(t.irate=.04),Object(y.jsxs)(p.Page,{header:"\u9009\u80a1\u8bbe\u7f6e",headerClassName:"bg-primary",children:[Object(y.jsx)("div",{className:"px-3 py-2",children:"\u56de\u5f52\u53c2\u6570"}),Object(y.jsx)(p.Form,{schema:Q,uiSchema:Z,formData:t,onButtonClick:e.onFormButtonClick})]})})),e}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.VPage),te=r(26),re=r(34),ne=function(){function e(t){var r=this;Object(o.a)(this,e),this.store=void 0,this.items=void 0,this.avgs={},this.lastTradeDay=void 0,this.sortType=void 0,this.selectedItems=[],this.load=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.selectedItems=[],e.next=3,r.loadItems();case 3:t=e.sent,Object(P.runInAction)((function(){r.sortType=r.store.config.userStock.sortType,Object(re.sortStocks)(r.sortType,t),r.items?r.items.splice(0,r.items.length,t):r.items=t}));case 5:case"end":return e.stop()}}),e)}))),this.store=t,Object(P.makeObservable)(this,{avgs:P.observable,items:P.observable,sortType:P.observable})}return Object(s.a)(e,[{key:"loadItems",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,r,n,a,i,c,s,o,u,l,p=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="all",e.next=3,this.store.loadExportItems(t);case 3:if(r=e.sent,n=r[1],Array.isArray(n)&&n.length>0?this.lastTradeDay=n[0].day:this.lastTradeDay=void 0,a=r[0],!1!==Array.isArray(a)){e.next=9;break}return e.abrupt("return");case 9:i=a,c=Object(D.a)(i);try{for(c.s();!(s=c.n()).done;)o=s.value,u=JSON.parse(o.data),o.dataArr=u,l=new te.b(u),o.ep=(l.predict(4)+o.e)/2,o.v=S.a.calculateVN(l.slopeR,o.ep,o.divyield*o.price,o.exprice),o.e3=l.predict(7)}catch(d){c.e(d)}finally{c.f()}return Object(P.runInAction)((function(){p.avgs="all"===t?S.a.CalculateValueAvg(i):{}})),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onItemSelected",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.addTagStock(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onItemUnselected",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.removeTagStock(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSortType",value:function(e){var t=this;Object(P.runInAction)((function(){Object(re.sortStocks)(e,t.items),t.store.setUserSortType(e)}))}}]),e}(),ae=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;Object(o.a)(this,r),(n=t.call(this,e)).explore=void 0,n.load=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.explore.load();case 1:case"end":return e.stop()}}),e)}))),n.onPage=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),n.onConfig=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(ee);case 1:case"end":return e.stop()}}),e)}))),n.onSelectItem=function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===r?n.explore.onItemSelected(t):n.explore.onItemUnselected(t);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.setSortType=function(e){return n.explore.setSortType(e)},n.renderSiteHeader=function(){return n.renderView(Y)},n.renderHome=function(){return n.renderView(X)},n.openMetaView=function(){},n.tab=function(){return n.renderHome()},n.openStockInfo=function(e){n.newC(j.CStockInfo).start(e)},n.onClickPredictAVG=function(){var e=n.explore,t=e.avgs,r={day:void 0,priceDay:e.lastTradeDay,avg20:t.avg20,avg50:t.avg50,avg100:t.avg100,avg:t.avg};n.cApp.openPredictAVG(r)};var a=e.store;return n.explore=new ne(a),n}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(d),ie=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSelect=function(e,t,r){},e.page=Object(C.d)((function(){var t=e.controller.warnings,r=t.length>=100?"":Object(y.jsxs)("div",{className:"px-3 py-2 cursor-pointer",onClick:e.controller.onNewWarning,children:[Object(y.jsx)(p.FA,{name:"plus",className:"text-primary"})," \xa0 \u65b0\u5efa\u9884\u8b66"]});return Object(y.jsxs)(p.Page,{header:"\u9884\u8b66",headerClassName:"bg-primary",children:[r,Object(y.jsx)(p.List,{items:t,item:{render:e.renderWarning},none:"--"})]})})),e.renderWarning=function(e){var t=e.name,r=e.code,n=e.type,a=e.price,i=Object(y.jsxs)("div",{className:"px-3 cursor-pointer",children:[t,Object(y.jsx)("small",{className:" mx-3",children:r})]});return Object(y.jsx)(p.LMR,{className:"mx-3 my-2",left:i,children:Object(y.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(y.jsx)("div",{className:"px-3 c6",children:V.a.warningTypeString(n)}),Object(y.jsx)("div",{className:"px-3 c6",children:V.a.numberToFixString(a)})]})})},e}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.VPage),ce=[{name:"id",type:"id"},{name:"type",type:"string",required:!0,maxLength:2},{name:"price",type:"number",required:!0},{name:"submit",type:"submit"}],se={items:{id:{widget:"id",label:"\u80a1\u7968",visible:!0},type:{widget:"select",label:"\u7c7b\u578b",list:[{value:"gt",title:"\u5927\u4e8e"},{value:"lt",title:"\u5c0f\u4e8e"}]},price:{widget:"text",label:"\u4ef7\u683c",placeholder:"0.00"},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},oe=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).newuiSchema={items:{id:{widget:"id",label:"\u80a1\u7968",visible:!0,placeholder:Object(y.jsx)("small",{className:"text-muted",children:"\u8bf7\u9009\u62e9\u80a1\u7968"}),pickId:function(){var t=Object(v.a)(b.a.mark((function t(r,n,a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.showSelectStock(r,n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Templet:function(e){var t=e.name,r=e.code;return e?Object(y.jsxs)("div",{children:[t,Object(y.jsx)("small",{className:" mx-3",children:r})]}):Object(y.jsx)("small",{className:"text-muted",children:"\u8bf7\u9009\u62e9\u80a1\u7968"})}},type:{widget:"select",label:"\u7c7b\u578b",list:[{value:"gt",title:"\u5927\u4e8e"},{value:"lt",title:"\u5c0f\u4e8e"}]},price:{widget:"text",label:"\u4ef7\u683c",placeholder:"0.00"},submit:{widget:"button",label:"\u4fdd\u5b58",className:"btn btn-primary"}}},e.onFormButtonClick=function(){var t=Object(v.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveNewWarning(n.data);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){return Object(y.jsx)(p.Page,{header:"\u65b0\u5efa\u9884\u8b66",headerClassName:"bg-primary",children:Object(y.jsx)("div",{className:"px-3 py-3",children:Object(y.jsx)(p.Form,{schema:ce,uiSchema:e.newuiSchema,formData:{type:"lt"},onButtonClick:e.onFormButtonClick})})})},e}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.VPage),ue=(p.VPage,z=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(I.a)(e,"warnings",U,Object(m.a)(e)),e.onNewWarning=function(){e.openVPage(oe)},e.onWarningConfg=Object(v.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadWarnings();case 2:e.openVPage(ie);case 3:case"end":return t.stop()}}),t)}))),e.onSaveNewWarning=function(){var t=Object(v.a)(b.a.mark((function t(r){var n,a,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.type,i=r.price,t.next=3,e.cApp.miNet.t_stockwarning$add(n.id,a,i);case 3:e.closePage();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaveWarning=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.showSelectStock=function(){var t=Object(v.a)(b.a.mark((function t(r,n,a){var i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new _.a(e.cApp),t.next=3,i.call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadWarnings",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cApp.miNet.t_stockwarning$all();case 2:t=e.sent,r=t,this.warnings=r;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(d),U=Object(F.a)(z.prototype,"warnings",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z),le=r(57),pe=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e,n=this;Object(o.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).page=Object(N.observer)((function(){return Object(y.jsx)(p.Page,{header:"\u9884\u671f\u6536\u76ca\u6bd4\u5747\u503c\u5386\u53f2",children:Object(y.jsx)(n.pageContent,{})})})),e.pageContent=Object(N.observer)((function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(n.historyChart,{})})})),e.historyChart=Object(N.observer)((function(){var t=e.controller.items;if(void 0===t)return Object(y.jsx)(y.Fragment,{});var r,n=y.Fragment,a=[],i=[],c=[],s=[],o=Object(D.a)(t);try{for(o.s();!(r=o.n()).done;){var u=r.value,l=u.day,d=u.avg20,h=u.avg50,f=u.avg100;a.push(l),i.push(d),c.push(h),s.push(f)}}catch(v){o.e(v)}finally{o.f()}var b={labels:a,datasets:[{label:"avg20",data:i,borderColor:"blue",backgroundColor:"skyBlue",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"avg50",data:c,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"avg100",data:s,borderColor:"DarkGreen",backgroundColor:"green",borderWidth:1,fill:!1,yAxisID:"y-axis-1"}]};return n=Object(y.jsx)(E.a,{data:b,type:"line",options:{scales:{yAxes:[{type:"linear",display:!0,position:"right",id:"y-axis-1"}]}}}),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.LMR,{className:"px-3 py-2 bg-white",left:"\u5386\u53f2\u8d70\u52bf"}),Object(y.jsx)("div",{className:"px-3",style:{width:"95%"},children:n})]})})),e}return Object(s.a)(r,[{key:"open",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return Object(y.jsx)(this.page,{})}}]),r}(p.VPage),de=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).items=P.observable.array([],{deep:!0}),e.day=void 0,e.lastItem=void 0,e}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==(r=t)?(this.day=r.day,void 0!==r.priceDay?this.lastItem={day:r.priceDay,avg20:r.avg20,avg50:r.avg50,avg100:r.avg100}:this.lastItem=void 0):(this.day=void 0,this.lastItem=void 0),e.next=4,this.load();case 4:this.openVPage(pe);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cApp.miNet.t_toppredictavg$query(this.day);case 2:if(r=e.sent,this.items.clear(),Array.isArray(r)){e.next=6;break}return e.abrupt("return");case 6:(t=this.items).push.apply(t,Object(w.a)(r)),void 0!==this.lastItem&&(n=Object(le.a)({},this.lastItem),this.items.push(n));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(d),he={$zh:{home:"\u9996\u9875",relation:"\u5173\u7cfb",discover:"\u53d1\u73b0",me:"\u6211\u7684",changePassword:"\u4fee\u6539\u5bc6\u7801",aboutTheApp:"\u5173\u4e8eAPP",logout:"\u9000\u51fa\u767b\u5f55",pleaseLogin:"\u767b\u5f55",notes:"\u5c0f\u5355",task:"\u4efb\u52a1",assign:"\u4f5c\u4e1a\u5355",noteSpace:"\u7fa4",noteText:"\u6587\u5b57\u5355",noteList:"\u5217\u8868\u5355",noteCheckable:"\u52fe\u9009\u5355",noteTask:"\u5e03\u7f6e\u4efb\u52a1",noteFolder:"\u5c0f\u5355\u5939",noteCreateSpace:"\u65b0\u5efa\u7fa4",content:"\u5185\u5bb9"},$en:{home:"Home",relation:"Relation",discover:"Discover",me:"Me",changePassword:"Change password",aboutTheApp:"About the APP",logout:"Logout",pleaseLogin:"Login",notes:"Notes",task:"Task",assign:"Assign",noteSpace:"Group",noteText:"Text",noteList:"List",noteCheckable:"Checkable",noteTask:"Task",noteFolder:"Folder",noteCreateSpace:"Create Group",content:"Content"}},fe=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderAccount=function(e,t){function r(e,t){return Object(y.jsxs)("span",{className:"mr-3",children:[Object(y.jsxs)("small",{className:"text-muted",children:[e,": "]}),null!==t&&void 0!==t?t:0]})}var n=e.name,a=e.mi,i=e.market,c=e.count,s=Object(y.jsx)("div",{className:"px-2 d-flex align-items-center",children:Object(y.jsx)(p.FA,{className:"align-",name:"angle-right"})});return Object(y.jsx)(p.LMR,{right:s,children:Object(y.jsxs)("div",{className:"px-3 py-2 bg-white d-block",children:[Object(y.jsx)("div",{children:n}),Object(y.jsxs)("div",{className:"mt-2",children:[Object(y.jsxs)("span",{className:"mr-3 small",children:["\u5171",null!==c&&void 0!==c?c:0,"\u53ea"]}),r("\u603b\u7c73\u503c",a),r("\u603b\u5e02\u503c",i)]})]})})},e.onClickAccount=function(t){e.controller.showAccount(t)},e}return Object(s.a)(r,[{key:"header",value:function(){return Object(y.jsxs)("span",{className:"ml-3",children:["\u6301\u4ed3\u7ec4\u5408 ",Object(y.jsx)("small",{className:"text-muted",children:"\u6b63\u5728\u8bbe\u8ba1\u5b9e\u73b0\u4e2d..."})]})}},{key:"content",value:function(){return Object(y.jsx)("div",{children:Object(y.jsx)(p.List,{items:this.controller.accounts,item:{render:this.renderAccount,onClick:this.onClickAccount}})})}}]),r}(p.VPage),be=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"header",value:function(){return this.controller.account.name}},{key:"content",value:function(){function e(e,t){return Object(y.jsxs)("span",{className:"mr-3",children:[Object(y.jsxs)("small",{className:"text-muted",children:[e,": "]}),null!==t&&void 0!==t?t:0]})}var t=this.controller.account,r=t.no,n=t.name,a=t.mi,i=t.market,c=t.count;return Object(y.jsxs)("div",{className:"mt-3 px-3 py-2 bg-white d-block",children:[Object(y.jsx)(p.LMR,{right:Object(y.jsxs)("small",{className:"text-muted",children:["\u7ec4\u5408\u7f16\u53f7: ",r]}),children:n}),Object(y.jsxs)("div",{className:"mt-2",children:[Object(y.jsxs)("span",{className:"mr-3 small",children:["\u5171",null!==c&&void 0!==c?c:0,"\u53ea"]}),e("\u603b\u7c73\u503c",a),e("\u603b\u5e02\u503c",i)]})]})}}]),r}(p.VPage),ve=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).accounts=void 0,n.account=void 0,n.tab=function(){return n.renderView(fe)},n.load=Object(v.a)(b.a.mark((function e(){var t,r,a,i,c,s,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.uqs.BruceYuMi,r=t.Account,a=t.UserAccount,i={ID:r,IX:a,id:n.user.id},e.next=5,t.IDinIX(i);case 5:if(0!==(c=e.sent).length){e.next=16;break}return e.next=9,t.IDNO({ID:r});case 9:return s=e.sent,e.next=12,t.IDActs({account:[{id:void 0,no:s,name:"\u6211\u7684\u6301\u4ed3\u7ec4\u5408"}]});case 12:return e.sent,e.next=15,t.IDinIX(i);case 15:c=e.sent;case 16:return o={IDX:t.AccountValue,id:c.map((function(e){return e.id}))},e.next=19,t.ID(o);case 19:u=e.sent,n.accounts=c,n.accounts.forEach((function(e){var t=e.id,r=u.find((function(e){return e.id===t}));r&&Object.assign(e,r)}));case 22:case"end":return e.stop()}}),e)}))),n.showAccount=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.account=t,n.openVPage(be);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(P.makeObservable)(Object(m.a)(n),{accounts:P.observable}),n}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(d),me=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"header",value:function(){return!1}},{key:"tabsProps",get:function(){var e=this.controller,t=e.cHome,r=e.cHolding,n=e.cExporer,a=e.cMe;return{tabs:[{name:"home",label:"\u9996\u9875",icon:"home",content:t.tab,notify:void 0,load:t.load,onShown:t.load},{name:"explorer",label:"\u6301\u4ed3",icon:"money",content:r.tab,load:r.load},{name:"explorer",label:"\u9009\u80a1",icon:"search",content:n.tab,load:n.load},{name:"me",label:"\u6211\u7684",icon:"user",content:a.tab,onShown:void 0}].map((function(e){var t=e.name,r=e.label,n=e.icon;return{name:t,caption:function(e){return Object(p.TabCaptionComponent)(r,n,function(e){return!0===e?"text-primary":"text-muted"}(e))},content:e.content,notify:e.notify,load:e.load,onShown:e.onShown}}))}}}]),r}(p.VPage),je=r(16),xe=r(22),ge=r.n(xe);var ye=function(){function e(t,r,n){var a=this;Object(o.a)(this,e),this.hostUrl=void 0,this.apiToken=void 0,this.ui=void 0,this.timeout=void 0,this.startWait=function(){void 0!==a.ui&&a.ui.startWait()},this.endWait=function(e,t){void 0!==a.ui&&a.ui.endWait(),void 0!==t&&t("\u8bbf\u95eewebapi\u8d85\u65f6 "+e)},this.showError=function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a.ui){e.next=3;break}return e.next=3,a.ui.showError(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.hostUrl=t,this.apiToken=r,this.ui=n,this.timeout=!0===je.a.isDevelopment?5e5:2e4}return Object(s.a)(e,[{key:"used",value:function(){this.post("",{})}},{key:"get",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var r,n,a,i,c,s,o,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=u.length>1&&void 0!==u[1]?u[1]:void 0)){e.next=25;break}if(!((n=Object.keys(r)).length>0)){e.next=25;break}a="?",i=Object(D.a)(n),e.prev=6,i.s();case 8:if((c=i.n()).done){e.next=17;break}if(s=c.value,void 0!==r[s]){e.next=13;break}return e.abrupt("continue",15);case 13:t+=a+s+"="+r[s],a="&";case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:return(o=this.buildOptions()).method="GET",e.next=29,this.innerFetch(t,o);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,this,[[6,19,22,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.buildOptions()).method="POST",n.body=JSON.stringify(r),e.next=5,this.innerFetch(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.buildOptions()).method="PUT",n.body=JSON.stringify(r),e.next=5,this.innerFetch(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this.buildOptions()).method="DELETE",n.body=JSON.stringify(r),e.next=5,this.innerFetch(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(t,r,n,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(v.a)(b.a.mark((function e(t,r,n,a){var i,c,s,o,u,l,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){return{channel:i,url:c,options:r,resolve:n,reject:a,error:e}},i=this,this.startWait(),c=t,e.prev=4,console.log("%s %s",r.method,c),o=setTimeout((function(){return i.endWait(t,a)}),this.timeout),e.next=9,fetch(encodeURI(c),r);case 9:if(!1!==(u=e.sent).ok){e.next=15;break}throw clearTimeout(o),i.endWait(),console.log("call error %s",u.statusText),u.statusText;case 15:if(!((l=u.headers.get("content-type"))&&l.indexOf("json")>=0)){e.next=20;break}return e.abrupt("return",u.json().then(function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(o),i.endWait(),!0!==t.ok){e.next=4;break}return e.abrupt("return",n(t.res));case 4:if(void 0!==t.error){e.next=9;break}return e.next=7,i.showError(s("not valid tonva json"));case 7:e.next=12;break;case 9:return e.next=11,i.showError(s(t.error));case 11:a(t.error);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.showError(s(t.message));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:return e.next=22,u.text();case 22:d=e.sent,clearTimeout(o),i.endWait(),n(d);case 26:e.next=36;break;case 28:if(e.prev=28,e.t0=e.catch(4),"string"!==typeof e.t0){e.next=34;break}if(!0!==e.t0.toLowerCase().startsWith("unauthorized")){e.next=34;break}return p.nav.logout(),e.abrupt("return");case 34:return e.next=36,this.showError(s(e.t0.message));case 36:case 37:case"end":return e.stop()}}),e,this,[[4,28]])})));return function(t,r,n,a){return e.apply(this,arguments)}}())},{key:"innerFetch",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.hostUrl+t,e.next=3,new Promise(function(){var e=Object(v.a)(b.a.mark((function e(t,i){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetch(n,r,t,i);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"callFetch",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r,n){var a,i=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.buildOptions()).method=r,a.body=n,e.next=5,new Promise(function(){var e=Object(v.a)(b.a.mark((function e(r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetch(t,a,r,n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"buildOptions",value:function(){var e=p.nav.language,t=p.nav.culture,r=new Headers;r.append("Content-Type","application/json;charset=UTF-8");var n=e;return t&&(n+="-"+t),r.append("Accept-Language",n),this.apiToken&&r.append("Authorization",this.apiToken),{headers:r}}}]),e}(),Oe=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"startWait",value:function(){p.nav.startWait()}},{key:"endWait",value:function(){p.nav.endWait()}},{key:"showError",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.nav.endWait(),e.next=3,p.nav.onError(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var ke={},we={},Ne=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e,n,a,i,c){var s;return Object(o.a)(this,r),(s=t.call(this,n,c)).apiName=void 0,s.url=void 0,s.showWaiting=c,s.apiName=a,s.token=i,s.url=e,s}return Object(s.a)(r,[{key:"getHttpChannel",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.showWaiting||void 0===this.showWaiting?(t=ke,r=new Oe):t=we,void 0===(n=t[this.apiName])){e.next=4;break}return e.abrupt("return",n);case 4:return n=new ye(this.url,this.token,r),e.abrupt("return",t[this.apiName]=n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(function(){function e(t,r){Object(o.a)(this,e),this.token=void 0,this.path=void 0,this.showWaiting=void 0,this.path=t||"",this.showWaiting=r}return Object(s.a)(e,[{key:"call",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return a=e.sent,e.next=5,a.callFetch(t,r,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var r,n,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,e.next=3,this.getHttpChannel();case 3:return n=e.sent,e.next=6,n.get(this.path+t,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return n=e.sent,e.next=5,n.post(this.path+t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return n=e.sent,e.next=5,n.put(this.path+t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHttpChannel();case 2:return n=e.sent,e.next=5,n.delete(this.path+t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()),Se=function(){function e(t,r,n,a,i){Object(o.a)(this,e),this.channel=void 0,this.channel=new Ne(t,r,n,a,i)}return Object(s.a)(e,[{key:"call",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={call:t,params:r},e.next=3,this.channel.post("sql/call",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={call:t,params:r},e.next=3,this.channel.post("sql/call",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"page",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r,n,a){var i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=typeof r,e.next="undefined"===e.t0?3:5;break;case 3:return i=[],e.abrupt("break",7);case 5:return i=ge.a.clone(r),e.abrupt("break",7);case 7:return i.push(n),i.push(a),c={call:t,params:i},e.next=12,this.channel.post("sql/call",c);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"process",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={proc:t,params:r},e.next=3,this.channel.post("sql/query",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),Te=function(){function e(t){Object(o.a)(this,e),this.miApi=void 0,this.user=void 0;var r=je.a.miApiHost;document.baseURI.indexOf("localmiserver")>0&&(r=je.a.miApiHostDebug),this.user=t,this.miApi=new Se(r,"fsjs/","miapi",t.token,!1)}return Object(s.a)(e,[{key:"userId",get:function(){return this.user.id}},{key:"process",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.process(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"q_marketpe",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("q_marketpe",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"t_toppredictavg$query",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_toppredictavg$query",[t]);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"q_stocks$page",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.page("q_stocks$page",t,r,n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"q_stockallinfo",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.miApi.query("q_stockallinfo",[t,r]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"t_tagstock$query",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.miApi.query("t_tagstock$query",[this.user.id,t,r]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"t_tag$all",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("t_tag$all",[this.user.id]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_tag$save",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_tag$save",[this.user.id,void 0,t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"t_tagstock$add",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_tagstock$add",[this.user.id,t,r]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"t_tagstock$del",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_tagstock$del",[this.user.id,t,r]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"t_stockwarning$all",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_stockwarning$all",[this.user.id]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_stockwarning$add",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_stockwarning$add",[this.user.id,t,r,n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"t_usersettings$save",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("t_usersettings$save",[this.user.id,"config",t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"t_usersettings$query",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("t_usersettings$query",[this.user.id,"config"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_allaccounts",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.query("t_allaccounts",[this.user.id]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"q_getlasttradeday",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miApi.call("q_getlasttradeday",[]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ce=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"header",value:function(){return"\u81ea\u9009\u7ec4\u7ba1\u7406"}},{key:"content",value:function(){return Object(y.jsx)("div",{className:"p-3",children:"\u81ea\u9009\u7ec4\u7ba1\u7406"})}}]),r}(p.VPage),Ae=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(Ce);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(d),Ie=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).cHome=void 0,e.cHolding=void 0,e.cExporer=void 0,e.cWarning=void 0,e.cMe=void 0,e.miNet=void 0,e.store=void 0,e}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setRes(he),this.miNet=new Te(this.user),this.store=new re.Store(this.miNet),e.next=5,this.store.load();case 5:this.cHome=this.newC(R),this.cExporer=this.newC(ae),this.cHolding=this.newC(ve),this.cMe=this.newC(J),this.cWarning=this.newC(ue),this.openVPage(me);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openPredictAVG",value:function(e){this.newC(de).start(e)}},{key:"showOneVPage",value:function(){var e=Object(v.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new t(this).open(r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"onDispose",value:function(){}},{key:"showGroupsManage",value:function(){this.newC(Ae).start()}}]),r}(h);r(54)},41:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(1),a=r.n(n),i=r(2),c=r(6),s=r(7),o=r(9),u=r(8),l=r(3),p=r(40),d=r(0),h=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).onClickStock=function(){var t=Object(i.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.returnStock(r);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderStock=function(e,t){var r=e.name,n=e.code;return Object(d.jsxs)(l.LMR,{className:"px-3 py-2 ",children:[Object(d.jsx)("div",{className:"font-weight-bold"}),Object(d.jsx)("div",{children:r+" "+n})]})},e}return Object(s.a)(r,[{key:"header",value:function(){return"\u9009\u62e9\u80a1\u7968"}},{key:"headerClassName",get:function(){return"bg-primary"}},{key:"onPageScrollBottom",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.pageItems.more();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"content",value:function(){var e=this.controller,t=e.pageItems,r=e.searchByKey,n=Object(d.jsx)("div",{className:"p-3 small text-muted",children:"\u65e0\u7ed3\u679c"});return Object(d.jsxs)("div",{children:[Object(d.jsx)(l.SearchBox,{className:"px-1 w-100  mt-2 mr-2",size:"md",allowEmptySearch:!0,onSearch:r,placeholder:"\u641c\u7d22\u80a1\u7968"}),Object(d.jsx)(l.List,{before:"",none:n,items:t,item:{render:this.renderStock,onClick:this.onClickStock}})]})}}]),r}(l.VPage),f=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,!0)).miNet=void 0,n.miNet=e,n.firstSize=n.pageSize=30,n}return Object(s.a)(r,[{key:"loadResults",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r,n){var i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),i=["%"+t.key+"%"],e.prev=2,e.next=5,this.miNet.q_stocks$page(i,r,n);case 5:return c=e.sent,e.abrupt("return",{$page:c});case 9:return e.prev=9,e.t0=e.catch(2),e.t0,e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setPageStart",value:function(e){this.pageStart=void 0===e?0:e.id}}]),r}(l.PageItems),b=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).pageItems=void 0,e.searchByKey=function(){var t=Object(i.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pageItems.first({key:r});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.returnStock=function(){var t=Object(i.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.returnCall(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPage=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pageItems.more();case 2:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(r,[{key:"internalStart",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pageItems=new f(this.cApp.miNet),this.openVPage(h);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p.b)},51:function(e,t,r){"use strict";r.d(t,"a",(function(){return N}));var n,a,i=r(20),c=r(1),s=r.n(c),o=r(2),u=r(18),l=r(6),p=r(7),d=r(13),h=r(9),f=r(8),b=r(14),v=(r(37),r(4)),m=r(3),j=r(5),x=r(11),g=r(31),y=r.n(g),O=r(10),k=r(26),w=r(0),N=(n=function(e){Object(h.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,c=new Array(n),p=0;p<n;p++)c[p]=arguments[p];return(e=t.call.apply(t,[this].concat(c))).input=void 0,e.key=void 0,Object(u.a)(e,"ttmLimit",a,Object(d.a)(e)),e.checkLimitShow=function(t){var r=t.target.checked;e.ttmLimit=r},e.checkShowLater=function(t){var r=t.target.checked;e.controller.loadHistoryData(r)},e.checkDefaultTag=function(t){var r=t.target.checked;e.controller.onClickDefaultTag(r)},e.page=Object(x.observer)((function(){var t=e.controller,r=t.openMetaView,n=t.baseItem,a=t.onSelectTag,i=t.stockTags,c=t.isLogined,s=n.name,o=n.code,u=n.day;w.Fragment;var l=i&&Object(w.jsx)("button",{className:"btn btn-sm mr-2 btn-outline-success bg-light align-self-center",onClick:a,children:0===i.length?"\u52a0\u81ea\u9009":"\u8bbe\u5206\u7ec4"}),p=s+" "+o;void 0!==u&&(p+=" - "+u);var d=Object(w.jsx)("div",{onClick:function(){return e.controller.showSelectStock(u)},children:p});return Object(w.jsx)(m.Page,{header:d,right:l,headerClassName:"bg-primary",children:v.createElement(e.pageContent)})})),e.pageContent=Object(x.observer)((function(){return Object(w.jsxs)(w.Fragment,{children:[e.dateHead(),v.createElement(e.baseInfo),v.createElement(e.historyChart),v.createElement(e.predictInfo),v.createElement(e.predictSeasonEarning),v.createElement(e.seasonEarning),v.createElement(e.capitalEarning),v.createElement(e.bonus)]})})),e.onChange=function(t){var r=t.target.value,n=Number(r);!0!==isNaN(n)&&Number.isInteger(n)?(e.key=t.target.value,void 0!==e.key&&(e.key=e.key.trim(),""===e.key&&(e.key=void 0))):e.input&&(e.input.value=e.key)},e.onSubmit=function(){var t=Object(o.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),void 0===e.key&&(e.key=""),n=Number(e.key),isNaN(n)||!Number.isInteger(n)){t.next=7;break}if(!(0===n||n>=20000101&&n<30000101)){t.next=7;break}return t.next=7,e.controller.changeDay(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.dateHead=function(){var t=e.controller.baseItem.day,r=void 0===t||isNaN(t)?"":t.toString();return Object(w.jsx)("div",{className:"px-3 py-2",children:Object(w.jsx)("form",{className:"w-100",onSubmit:e.onSubmit,children:Object(w.jsxs)("div",{className:"input-group input-group-sm",children:[Object(w.jsx)("label",{className:"input-group-addon mr-2 mb-0 align-self-center",children:"\u65e5\u671f"}),Object(w.jsx)("input",{ref:function(t){return e.input=t},onChange:e.onChange,type:"text",name:"key",defaultValue:r,className:"form-control border-primary px-2",placeholder:"yyyymmdd",maxLength:8}),Object(w.jsx)("div",{className:"input-group-append",children:Object(w.jsxs)("button",{className:"btn btn-primary px-2",type:"submit",children:[Object(w.jsx)("i",{className:"fa fa-search"}),Object(w.jsx)("i",{className:"fa"}),"\u8df3\u8f6c"]})})]})})})},e.baseInfo=Object(x.observer)((function(){var t=e.controller,r=t.baseItem,n=t.isMySelect,a=(r.id,r.name,r.code,r.symbol),i=r.pe,c=r.roe,s=r.price,o=(r.order,r.divyield),u=(r.e,r.capital,r.bonus,Object(w.jsxs)("label",{className:"align-self-center px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"checkDefaultList",defaultChecked:n,onChange:e.checkDefaultTag}),"\u81ea\u9009\u80a1"]}));return Object(w.jsxs)(m.LMR,{className:"bg-white",right:u,children:[" ",Object(w.jsx)("div",{className:"px-3 py-2",children:Object(w.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("TTM"),O.a.numberToFixString(i)]}),Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("\u80a1\u606f\u7387"),O.a.percentToFixString(o)]}),Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("ROE"),O.a.percentToFixString(c)]}),Object(w.jsxs)("div",{className:"px-3 c8",children:[O.a.caption("\u4ef7\u683c"),O.a.numberToFixString(s)]}),Object(w.jsx)("a",{className:"px-3 text-info",href:"https://finance.sina.com.cn/realstock/company/".concat(a,"/nc.shtml"),target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.stopPropagation()},children:"\u65b0\u6d6a\u8d22\u7ecf"})]})})]})})),e.onClickName=function(){var e=Object(o.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.symbol,n="http://finance.sina.com.cn/realstock/company/".concat(r,"/nc.shtml"),window.open(n,"").opener=void 0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.historyChart=Object(x.observer)((function(){var t=e.controller,r=t.historyData,n=t.baseItem;if(void 0===r)return Object(w.jsx)(w.Fragment,{});var a,c=w.Fragment,s=[],o=[],u=[],l=Object(i.a)(r);try{for(l.s();!(a=l.n()).done;){var p=a.value,d=p.day,h=p.price,f=p.ttm;s.push(d),o.push(O.a.numberToPrecision(h,4)),f<=0?u.push(void 0):e.ttmLimit&&f>=35?u.push(35):u.push(O.a.numberToPrecision(f,4))}}catch(j){l.e(j)}finally{l.f()}var b={labels:s,datasets:[{label:"\u4ef7\u683c",data:o,borderColor:"blue",backgroundColor:"skyBlue",borderWidth:1,fill:!1,yAxisID:"y-axis-1"},{label:"TTM",data:u,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1,yAxisID:"y-axis-2"}]};c=Object(w.jsx)(y.a,{data:b,type:"line",options:{scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:!1}}]}}});var v=Object(w.jsx)(w.Fragment,{});return v=void 0!==n.day?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{className:"px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"showLater",defaultChecked:!1,onChange:e.checkShowLater}),"\u663e\u793a\u540e\u9762\u6570\u636e"]}),Object(w.jsxs)("label",{className:"px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"selectType",defaultChecked:e.ttmLimit,onChange:e.checkLimitShow}),"\u9650\u5236TTM\u663e\u793a\u8303\u56f4"]})]}):Object(w.jsxs)("label",{className:"px-3",children:[" ",Object(w.jsx)("input",{type:"checkbox",name:"selectType",defaultChecked:e.ttmLimit,onChange:e.checkLimitShow}),"\u9650\u5236TTM\u663e\u793a\u8303\u56f4"]}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.LMR,{className:"px-3 py-2 bg-white",left:"\u5386\u53f2\u8d70\u52bf",right:v}),Object(w.jsx)("div",{className:"px-3",style:{width:"95%"},children:c})]})})),e.predictInfo=Object(x.observer)((function(){var t=e.controller,r=t.predictData,n=t.ypredict;if(void 0===r)return Object(w.jsx)(w.Fragment,{});var a=r.e,i=r.b,c=r.r2,s=r.epre,o=r.l,u=r.lr2,l=r.lpre,p=Object(w.jsx)(w.Fragment,{});if(5===n.length){var d=new k.a(n),h={labels:["0","1","2","3","4"],datasets:[{label:"\u539f\u503c",data:n.map((function(e){return O.a.numberToPrecision(e)})),borderColor:"black",backgroundColor:"skyBlue",showLine:!1,pointStyle:"crossRot",borderWidth:1,pointRadius:5,fill:!1}]};if(!isNaN(d.B)&&!isNaN(d.A)){for(var f=[],b=0;b<5;++b)f.push(O.a.numberToPrecision(d.predict(b),4));h.datasets.push({label:"\u6307\u6570\u56de\u5f52",data:f,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1})}var v=new k.b(n);if(!isNaN(v.slope)&&!isNaN(v.intercept)){for(var m=[],j=0;j<5;++j)m.push(O.a.numberToPrecision(v.predict(j),4));h.datasets.push({label:"\u7ebf\u6027\u56de\u5f52",data:m,borderColor:"blue",backgroundColor:"pink",borderWidth:1,fill:!1})}p=Object(w.jsx)(y.a,{data:h,type:"line"})}var x=e.predictChartFullInfo(),g=e.predictChartROE();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-2 bg-white",children:"\u6307\u6570\u56de\u5f52\u9884\u6d4b"}),Object(w.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e"),O.a.numberToString(a,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("\u6307\u6570b"),O.a.numberToString(i,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("r2"),O.a.numberToString(c,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e\u9884\u6d4b"),O.a.numberToString(s)]})]}),Object(w.jsx)("div",{className:"px-3 py-2 bg-white",children:"\u7ebf\u6027\u56de\u5f52\u9884\u6d4b"}),Object(w.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e"),O.a.numberToString(a,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("\u589e\u957f\u7387"),O.a.numberToString(o,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("r2"),O.a.numberToString(u,4)]}),Object(w.jsxs)("div",{className:"px-3 c12",children:[O.a.caption("e\u9884\u6d4b"),O.a.numberToString(l)]})]}),Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsx)("div",{className:"px-2",style:{width:"50%"},children:p}),Object(w.jsx)("div",{className:"px-2",style:{width:"50%"},children:x})]}),Object(w.jsx)("div",{className:"d-flex",children:Object(w.jsx)("div",{className:"px-2",style:{width:"50%"},children:g})})]})})),e.predictChartFullInfo=function(){var t=e.controller.predictSeasonDataFull,r=t.length;if(r<=0)return Object(w.jsx)(w.Fragment,{});for(var n=[],a=[],i=r-1;i>=0;--i){var c=t[i];void 0!==c.esum&&(n.push(O.a.SeasonnoToYearMonth(c.season)),a.push(c.esum))}var s=new k.a(a),o={labels:n,datasets:[{label:"\u539f\u503c",data:a.map((function(e){return O.a.numberToPrecision(e)})),borderColor:"black",backgroundColor:"skyBlue",showLine:!1,pointStyle:"crossRot",borderWidth:1,pointRadius:5,fill:!1}]};if(!isNaN(s.B)&&!isNaN(s.A)){for(var u=[],l=0;l<r;++l)u.push(O.a.numberToPrecision(s.predict(l),4));o.datasets.push({label:"\u6307\u6570 R2:"+O.a.numberToString(s.r2,4),data:u,borderColor:"red",backgroundColor:"pink",borderWidth:1,fill:!1})}var p=new k.b(a);if(!isNaN(p.slope)&&!isNaN(p.intercept)){for(var d=[],h=0;h<r;++h)d.push(O.a.numberToPrecision(p.predict(h),4));o.datasets.push({label:"\u7ebf\u6027 R2:"+O.a.numberToString(p.r2,4),data:d,borderColor:"blue",backgroundColor:"pink",borderWidth:1,fill:!1})}return Object(w.jsx)(y.a,{data:o,type:"line"})},e.predictChartROE=function(){var t=e.controller.predictSeasonDataFull,r=t.length;if(r<=0)return Object(w.jsx)(w.Fragment,{});for(var n=[],a=[],i=r-1;i>=0;--i){var c=t[i];void 0!==c.esum&&(n.push(O.a.SeasonnoToYearMonth(c.season)),a.push(c.esumorg/c.corg))}var s={labels:n,datasets:[{label:"ROE\u539f\u503c",data:a.map((function(e){return O.a.numberToPrecision(e)})),borderColor:"black",backgroundColor:"skyBlue",showLine:!1,pointStyle:"crossRot",borderWidth:1,pointRadius:5,fill:!1}]},o=new k.b(a);if(!isNaN(o.slope)&&!isNaN(o.intercept)){for(var u=[],l=0;l<r;++l)u.push(Number.parseFloat(o.predict(l).toPrecision(4)));s.datasets.push({label:"\u7ebf\u6027 R2:"+O.a.numberToString(o.r2,4),data:u,borderColor:"blue",backgroundColor:"pink",borderWidth:1,fill:!1})}return Object(w.jsx)(y.a,{data:s,type:"line"})},e.predictSeasonEarning=Object(x.observer)((function(){var t=e.controller.predictSeasonData,r=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c6",children:"\u5e74\u6708"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672c"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"ROE"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672co"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76cao"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76cao"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u80a1\u672c\u6536\u76ca-\u7528\u4e8e\u56de\u5f52\u8ba1\u7b97"}),Object(w.jsx)(m.List,{header:r,loading:"...",items:t,item:{render:function(e){var t=e.season,r=e.c,n=e.e,a=e.esum,i=e.corg,c=e.eorg,s=e.esumorg,o=O.a.SeasonnoToYearMonth(t);return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c6",children:o.toString()}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(r)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(n)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(a)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.percentToFixString(a/r)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(i)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(c)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(s)})]})}}})]})})),e.seasonEarning=Object(x.observer)((function(){var t=e.controller.seasonData,r=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c6",children:"\u5e74\u6708"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672c"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"ROE"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672co"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5b63\u6536\u76cao"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5e74\u6536\u76cao"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u5b63\u5ea6\u80a1\u672c\u6536\u76ca"}),Object(w.jsx)(m.List,{header:r,loading:"...",items:t,item:{render:function(e){var t=e.season,r=e.c,n=e.e,a=e.esum,i=e.corg,c=e.eorg,s=e.esumorg,o=O.a.SeasonnoToYearMonth(t);return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c6",children:o.toString()}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(r)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(n)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(a)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.percentToFixString(a/r)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(i)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(c)}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:O.a.numberToFixString(s)})]})}}})]})})),e.capitalEarning=Object(x.observer)((function(){var t=e.controller.capitalearning,r=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c6",children:"\u5e74"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u80a1\u672c"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u6536\u76ca"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"ROE"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u80a1\u672c\u6536\u76ca"}),Object(w.jsx)(m.List,{header:r,loading:"...",items:t,item:{render:function(e){var t=e.capital,r=e.earning;return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c6",children:e.year}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",t.toFixed(2)]}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",r.toFixed(2)]}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",(r/t*100).toFixed(1),"%"]})]})}}})]})})),e.bonus=Object(x.observer)((function(){var t=e.controller.bonus,r=Object(w.jsxs)("div",{className:"px-3",children:[Object(w.jsx)("div",{className:"px-3 c8",children:"\u65e5\u671f"}),Object(w.jsx)("div",{className:"px-3 c6 text-right",children:"\u5206\u7ea2"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"px-3 py-1",children:"\u5386\u5e74\u5206\u7ea2"}),Object(w.jsx)(m.List,{header:r,loading:"...",items:t,item:{render:function(e){return Object(w.jsxs)("div",{className:"px-3 py-2 d-flex flex-wrap",children:[Object(w.jsx)("div",{className:"px-3 c8",children:e.day}),Object(w.jsxs)("div",{className:"px-3 c6 text-right",children:[" ",e.bonus.toFixed(2)]})]})}}})]})})),e}return Object(p.a)(r,[{key:"open",value:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return this.page()}}]),r}(m.VPage),a=Object(b.a)(n.prototype,"ttmLimit",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n)},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(23),a=r(20),i=r(1),c=r.n(i),s=r(2),o=r(6),u=r(7),l=r(16),p=r(5),d=r(53),h=function(){function e(t){Object(o.a)(this,e),this.miNet=void 0,this.groups=void 0,this.defaultGroup=void 0,this.blackGroup=void 0,this.miNet=t,this.groups=p.observable.array([],{deep:!0})}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.defaultGroup=this.groupFromName(l.c),this.blackGroup=this.groupFromName(l.b),e.next=4,Promise.all([null===(t=this.defaultGroup)||void 0===t?void 0:t.loadItems(),null===(r=this.blackGroup)||void 0===r?void 0:r.loadItems()]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"groupFromName",value:function(e){return this.groups.find((function(t){return t.name===e}))}},{key:"groupFromId",value:function(e){return this.groups.find((function(t){return t.id===e}))}},{key:"group0",get:function(){return this.groups[0]}},{key:"getSelected",value:function(e){return this.groups.filter((function(t){return e.findIndex((function(e){return e.tag===t.id}))>=0}))}},{key:"add",value:function(e){this.groups.push(e)}},{key:"exists",value:function(e,t){return this.groups.findIndex((function(r){return r.id===e&&r.name===t}))>=0}},{key:"isMySelect",value:function(e){var t,r=Object(a.a)(this.groups);try{for(r.s();!(t=r.n()).done;){if(!0===t.value.exists(e))return!0}}catch(n){r.e(n)}finally{r.f()}return!1}},{key:"isMyBlack",value:function(e){return!!this.blackGroup&&this.blackGroup.exists(e)}},{key:"load",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,r,a,i,s=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_tag$all();case 2:return t=e.sent,r=t,e.next=6,this.checkDefaultTags(r);case 6:if(!e.sent){e.next=12;break}return e.next=10,this.miNet.t_tag$all();case 10:t=e.sent,r=t;case 12:a=[],(i=r.findIndex((function(e){return e.name===l.c})))>=0&&(a.push(r[i]),r.splice(i,1)),(i=r.findIndex((function(e){return e.name===l.b})))>=0&&(a.push(r[i]),r.splice(i,1)),a.push.apply(a,Object(n.a)(r)),this.groups.replace(a.map((function(e){return new d.a(e.name,e.id,s.miNet)})));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkDefaultTags",value:function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,void 0!==t){e.next=9;break}return e.next=4,this.miNet.t_tag$save(l.c);case 4:return e.next=6,this.miNet.t_tag$save(l.b);case 6:r=!0,e.next=19;break;case 9:if(!(t.findIndex((function(e){return e.name===l.c}))<0)){e.next=14;break}return e.next=13,this.miNet.t_tag$save(l.c);case 13:r=!0;case 14:if(!(t.findIndex((function(e){return e.name===l.b}))<0)){e.next=19;break}return e.next=18,this.miNet.t_tag$save(l.b);case 18:r=!0;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},53:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(1),a=r.n(n),i=r(23),c=r(20),s=r(2),o=r(6),u=r(7),l=r(5),p=r(26),d=r(27),h=r(38),f=function(){function e(t,r,n){Object(o.a)(this,e),this.miNet=void 0,this.sortType=void 0,this.id=void 0,this.name=void 0,this.stocks=void 0,this.name=t,this.id=r,this.miNet=n,this.stocks=l.observable.array([],{deep:!0})}return Object(u.a)(e,[{key:"loadItems",value:function(){var e=Object(s.a)(a.a.mark((function e(){var t,r,n,s,o,u,f,b,v=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"taguser",t={name:"taguser",pageStart:0,pageSize:1e3,user:this.miNet.userId,tag:this.id,yearlen:1},e.next=4,this.miNet.process(t,[]);case 4:if(r=e.sent,!1!==Array.isArray(r)){e.next=7;break}return e.abrupt("return");case 7:n=r,s=Object(c.a)(n);try{for(s.s();!(o=s.n()).done;)u=o.value,f=JSON.parse(u.data),u.dataArr=f,b=new p.b(f),u.ep=(b.predict(4)+u.e)/2,u.e3=b.predict(7),u.v=d.a.calculateVN(b.slopeR,u.ep,u.divyield*u.price,u.exprice),u.predictpe=u.price/u.e3}catch(a){s.e(a)}finally{s.f()}Object(h.a)(void 0,n),Object(l.runInAction)((function(){var e;v.stocks.clear(),(e=v.stocks).push.apply(e,Object(i.a)(n))}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sort",value:function(e){this.sortType=e,Object(h.a)(e,this.stocks)}},{key:"addStock",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_tagstock$add(this.id,t.id);case 2:if(!((r=this.stocks.findIndex((function(e){return e.id===t.id})))>=0)){e.next=8;break}n=this.stocks.splice(r,1),this.stocks.unshift(n[0]),e.next=11;break;case 8:return e.next=10,this.loadItems();case 10:Object(h.a)(this.sortType,this.stocks);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStock",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.miNet.t_tagstock$del(this.id,t.id);case 2:(r=this.stocks.findIndex((function(e){return e.id===t.id})))>=0&&this.stocks.splice(r,1);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exists",value:function(e){var t,r=Object(c.a)(this.stocks);try{for(r.s();!(t=r.n()).done;){if(t.value.id===e)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}}]),e}()},54:function(e,t,r){"use strict";r.d(t,"setUI",(function(){return d}));var n=r(131),a=r(132),i=r(133),c=r(134),s=r(135),o=r(136),u=r(137),l=r(138),p=r(139);r(128);function d(e){Object.assign(e.Account,n),Object.assign(e.Holding,a),Object.assign(e.Transaction,i),Object.assign(e.Stock,c),Object.assign(e.Market,s),Object.assign(e.Portfolio,o),Object.assign(e.StockValue,u),Object.assign(e.AccountValue,l),Object.assign(e.UserAccount,p)}},55:function(e,t,r){"use strict";r(126);var n=r(130);r.d(t,"CStockInfo",(function(){return n.a}));r(51)}},[[261,1,2]]]);
//# sourceMappingURL=main.2a828505.chunk.js.map